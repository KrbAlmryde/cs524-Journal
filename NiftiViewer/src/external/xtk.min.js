/**
 * Created by krbalmryde on 2/10/15.
 */
function m(t){throw t}function aa(){return function(){}}function ba(t){return function(e){this[t]=e}}function u(t){return function(){return this[t]}}function ea(){}function fa(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var i=Object.prototype.toString.call(t);if("[object Window]"==i)return"object";if("[object Array]"==i||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==i||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e}function ga(t){return t!==n}function ha(t){return"array"==fa(t)}function ja(t){var e=fa(t);return"array"==e||"object"==e&&"number"==typeof t.length}function la(t){return"string"==typeof t}function y(t){return"number"==typeof t}function ma(t){return"function"==fa(t)}function na(t){var e=typeof t;return"object"==e&&t!=r||"function"==e}function oa(t){return t[pa]||(t[pa]=++qa)}function ra(t){return t.call.apply(t.bind,arguments)}function sa(t,e){if(t||m(Error()),2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function ua(){return ua=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ra:sa,ua.apply(r,arguments)}function va(t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=Array.prototype.slice.call(arguments);return i.unshift.apply(i,e),t.apply(this,i)}}function D(t,e){var i=t.split("."),r=ca;!(i[0]in r)&&r.execScript&&r.execScript("var "+i[0]);for(var a;i.length&&(a=i.shift());)!i.length&&ga(e)?r[a]=e:r=r[a]?r[a]:r[a]={}}function F(t,e){function i(){}i.prototype=e.prototype,t.s=e.prototype,t.prototype=new i,t.prototype.constructor=t}function xa(t,e,i){this.Da=this.Ca=this.Ba=0,3==arguments.length?(this.Ba=Number(t),this.Ca=Number(e),this.Da=Number(i)):t instanceof xa?(this.Ba=Number(t.x()),this.Ca=Number(t.y()),this.Da=Number(t.b())):(this.Ba=Number(t[0]),this.Ca=Number(t[1]),this.Da=Number(t[2]))}function Ba(t){var e=t.length();return new xa(t.Ba/e,t.Ca/e,t.Da/e)}function za(t,e){return new xa(t.Ba*e,t.Ca*e,t.Da*e)}function Aa(t,e){return new xa(t.Ba-e.x(),t.Ca-e.y(),t.Da-e.b())}function ya(t,e){return new xa(t.Ba+e.x(),t.Ca+e.y(),t.Da+e.b())}function Ca(t){return new xa(-t.Ba,-t.Ca,-t.Da)}function Ea(t,e){for(var i in e){var r=e.__lookupGetter__(i),a=e.__lookupSetter__(i);r||a?(r&&t.__defineGetter__(i,r),a&&t.__defineSetter__(i,a)):t[i]=e[i]}}function Ja(t){return Ka.test(t)?(-1!=t.indexOf("&")&&(t=t.replace(La,"&")),-1!=t.indexOf("<")&&(t=t.replace(Ma,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(Na,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(Oa,"&quot;")),t):t}function Xa(){return ca.navigator?ca.navigator.userAgent:r}function Ya(){return ca.navigator}function hb(){var t=ca.document;return t?t.documentMode:n}function pb(t){var e;if(!(e=ob[t])){e=0;for(var i=String(ib).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),r=String(t).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),a=Math.max(i.length,r.length),n=0;0==e&&a>n;n++){var s=i[n]||"",o=r[n]||"",h=RegExp("(\\d*)(\\D*)","g"),c=RegExp("(\\d*)(\\D*)","g");do{var f=h.exec(s)||["","",""],l=c.exec(o)||["","",""];if(0==f[0].length&&0==l[0].length)break;e=((0==f[1].length?0:parseInt(f[1],10))<(0==l[1].length?0:parseInt(l[1],10))?-1:(0==f[1].length?0:parseInt(f[1],10))>(0==l[1].length?0:parseInt(l[1],10))?1:0)||((0==f[2].length)<(0==l[2].length)?-1:(0==f[2].length)>(0==l[2].length)?1:0)||(f[2]<l[2]?-1:f[2]>l[2]?1:0)}while(0==e)}e=ob[t]=e>=0}return e}function sb(){0!=tb&&(this.Jj=Error().stack,oa(this))}function ub(t,e){this.type=t,this.currentTarget=this.target=e}function wb(){}function xb(t){var e,i=[],r=0;for(e in t)i[r++]=t[e];return i}function zb(t){for(var e,i,r=1;r<arguments.length;r++){i=arguments[r];for(e in i)t[e]=i[e];for(var a=0;a<yb.length;a++)e=yb[a],Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])}}function Hb(t,e){var i=Db(t,e);i>=0&&Cb.splice.call(t,i,1)}function Ib(t,e,i){return 2>=arguments.length?Cb.slice.call(t,e):Cb.slice.call(t,e,i)}function Jb(t){return Jb[" "](t),t}function Kb(t,e){t&&this.ea(t,e)}function O(t,e,i,a,n){if(ha(e)){for(var o=0;o<e.length;o++)O(t,e[o],i,a,n);return r}return t=Qb(t,e,i,s,a,n),e=t.key,Lb[e]=t,e}function Qb(t,e,i,r,a,n){e||m(Error("Invalid event type")),a=!!a;var o=Nb;e in o||(o[e]={V:0,pa:0}),o=o[e],a in o||(o[a]={V:0,pa:0},o.V++);var h,o=o[a],c=oa(t);if(o.pa++,o[c]){h=o[c];for(var f=0;f<h.length;f++)if(o=h[f],o.Db==i&&o.ye==n){if(o.bc)break;return r||(h[f].od=s),h[f]}}else h=o[c]=[],o.V++;var l=Rb,d=Ab?function(t){return l.call(d.src,d.Db,t)}:function(t){return t=l.call(d.src,d.Db,t),t?void 0:t},f=d,o=new wb;return o.ea(i,f,t,e,a,n),o.od=r,f.src=t,f.Db=o,h.push(o),Ob[c]||(Ob[c]=[]),Ob[c].push(o),t.addEventListener?(t==ca||!t.Bf)&&t.addEventListener(e,f,a):t.attachEvent(e in Pb?Pb[e]:Pb[e]="on"+e,f),o}function Sb(t,e,i,r,a){if(ha(e))for(var n=0;n<e.length;n++)Sb(t,e[n],i,r,a);else t=Qb(t,e,i,q,r,a),Lb[t.key]=t}function Vb(t,e,i,a,n){if(ha(e))for(var s=0;s<e.length;s++)Vb(t,e[s],i,a,n);else if(a=!!a,s=Nb,t=e in s&&(s=s[e],a in s&&(s=s[a],t=oa(t),s[t]))?s[t]:r,t)for(s=0;s<t.length;s++)if(t[s].Db==i&&t[s].capture==a&&t[s].ye==n){Wb(t[s].key);break}}function Wb(t){var e=Lb[t];if(!e||e.bc)return s;var i=e.src,r=e.type,a=e.hg,n=e.capture;return i.removeEventListener?(i==ca||!i.Bf)&&i.removeEventListener(r,a,n):i.detachEvent&&i.detachEvent(r in Pb?Pb[r]:Pb[r]="on"+r,a),i=oa(i),Ob[i]&&(a=Ob[i],Hb(a,e),0==a.length&&delete Ob[i]),e.bc=q,(e=Nb[r][n][i])&&(e.Xf=q,Xb(r,n,i,e)),delete Lb[t],q}function Xb(t,e,i,a){if(!a.Dd&&a.Xf){for(var n=0,o=0;n<a.length;n++)a[n].bc?a[n].hg.src=r:(n!=o&&(a[o]=a[n]),o++);a.length=o,a.Xf=s,0==o&&(delete Nb[t][e][i],Nb[t][e].V--,0==Nb[t][e].V&&(delete Nb[t][e],Nb[t].V--),0==Nb[t].V&&delete Nb[t])}}function Yb(t,e,i,r,a){var n=1;if(e=oa(e),t[e]){var o=--t.pa,h=t[e];h.Dd?h.Dd++:h.Dd=1;try{for(var c=h.length,f=0;c>f;f++){var l=h[f];l&&!l.bc&&(n&=Zb(l,a)!==s)}}finally{t.pa=Math.max(o,t.pa),h.Dd--,Xb(i,r,e,h)}}return Boolean(n)}function Zb(t,e){return t.od&&Wb(t.key),t.handleEvent(e)}function Rb(t,e){if(t.bc)return q;var i=t.type,a=Nb;if(!(i in a))return q;var o,h,a=a[i];if(!Ab){var c;if(!(c=e))t:{c=["window","event"];for(var f=ca;o=c.shift();){if(f[o]==r){c=r;break t}f=f[o]}c=f}if(o=c,c=q in a,f=s in a,c){if(0>o.keyCode||o.returnValue!=n)return q;t:{var l=s;if(0==o.keyCode)try{o.keyCode=-1;break t}catch(d){l=q}(l||o.returnValue==n)&&(o.returnValue=q)}}l=new Kb,l.ea(o,this),o=q;try{if(c){for(var u=[],p=l.currentTarget;p;p=p.parentNode)u.push(p);h=a[q],h.pa=h.V;for(var b=u.length-1;!l.ac&&b>=0&&h.pa;b--)l.currentTarget=u[b],o&=Yb(h,u[b],i,q,l);if(f)for(h=a[s],h.pa=h.V,b=0;!l.ac&&b<u.length&&h.pa;b++)l.currentTarget=u[b],o&=Yb(h,u[b],i,s,l)}else o=Zb(t,l)}finally{u&&(u.length=0)}return o}return i=new Kb(e,this),o=Zb(t,i)}function ac(t){return t+"_"+$b++}function bc(){sb.call(this)}function Q(){sb.call(this),this.c="base",this.sa=window["X.counter"].Oi(),this.g=s}function cc(t,e){this.Aa=new xa(t),this.ba=new xa(e)}function dc(t,e){this.ba=t,this.Uc=e}function ec(t,e){this.hb=t,this.Nd=e;var i=t[0].Aa,r=t[2].Aa,r=Ba(Aa(t[1].Aa,i).Yb(Aa(r,i)));this.za=new dc(r,r.Cb(i))}function fc(t,e,i,r,a,n){for(var s=0,o=[],h=0;h<t.hb.length;h++){var c=e.ba.Cb(t.hb[h].Aa)-e.Uc,c=-1e-5>c?2:c>1e-5?1:0,s=s|c;o.push(c)}switch(s){case 0:(0<e.ba.Cb(t.za.ba)?i:r).push(t);break;case 1:a.push(t);break;case 2:n.push(t);break;case 3:for(i=[],r=[],h=0;h<t.hb.length;h++){var f=(h+1)%t.hb.length,c=o[h],l=o[f],s=t.hb[h],f=t.hb[f];2!=c&&i.push(s),1!=c&&r.push(2!=c?s.h():s),3==(c|l)&&(c=(e.Uc-e.ba.Cb(s.Aa))/e.ba.Cb(Aa(f.Aa,s.Aa)),c=new cc(s.Aa.Bd(f.Aa,c),s.ba.Bd(f.ba,c)),i.push(c),r.push(c.h()))}3<=i.length&&a.push(new ec(i,t.Nd)),3<=r.length&&n.push(new ec(r,t.Nd))}}function gc(t){this.ca=this.da=this.za=r,this.A=[],t&&hc(this,t)}function hc(t,e){if(e.length){t.za||(t.za=e[0].za.h());for(var i=[],r=[],a=0;a<e.length;a++)fc(e[a],t.za,t.A,t.A,i,r);i.length&&(t.da||(t.da=new gc),hc(t.da,i)),r.length&&(t.ca||(t.ca=new gc),hc(t.ca,r))}}function ic(t){var e=t.A.slice();return t.da&&(e=e.concat(ic(t.da))),t.ca&&(e=e.concat(ic(t.ca))),e}function jc(t,e){t.A=kc(e,t.A),t.da&&jc(t.da,e),t.ca&&jc(t.ca,e)}function kc(t,e){if(!t.za)return e.slice();for(var i=[],r=[],a=0;a<e.length;a++)fc(e[a],t.za,i,r,i,r);return t.da&&(i=kc(t.da,i)),r=t.ca?kc(t.ca,r):[],i.concat(r)}function lc(){this.A=[]}function mc(t){var e=new lc;return e.Ld(t),e}function nc(){Q.call(this),this.c="indexer",this.ke=[],this.Fj=[],this.pb={}}function oc(t){Q.call(this),this.c="file",this.dd=t,this.g=q}function pc(){this.Ib=this.o=r}function qc(t){if("function"==typeof t.bb)return t.bb();if(la(t))return t.split("");if(ja(t)){for(var e=[],i=t.length,r=0;i>r;r++)e.push(t[r]);return e}return xb(t)}function rc(t){this.J={},this.w=[];var e=arguments.length;if(e>1){e%2&&m(Error("Uneven number of arguments"));for(var i=0;e>i;i+=2)this.set(arguments[i],arguments[i+1])}else t&&this.me(t)}function tc(t){for(var e=0;e<t.w.length;e++){var i=t.w[e];if(uc(t.J,i)&&t.J[i]==s)return q}return s}function sc(t){if(t.V!=t.w.length){for(var e=0,i=0;e<t.w.length;){var r=t.w[e];uc(t.J,r)&&(t.w[i++]=r),e++}t.w.length=i}if(t.V!=t.w.length){for(var a={},i=e=0;e<t.w.length;)r=t.w[e],uc(a,r)||(t.w[i++]=r,a[r]=1),e++;t.w.length=i}}function uc(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function vc(){Q.call(this),this.c="colortable",this.pb=new rc,Ea(this,new pc)}function wc(t,e,i){this.x=ga(t)?t:0,this.y=ga(e)?e:0,this.b=ga(i)?i:0}function S(t,e,i){this.x=t,this.y=e,this.b=i}function xc(t,e){var i=t.x-e.x,r=t.y-e.y,a=t.b-e.b;return i*i+r*r+a*a}function yc(t,e){return new S(t.x+e.x,t.y+e.y,t.b+e.b)}function zc(t,e){return new S(t.y*e.b-t.b*e.y,t.b*e.x-t.x*e.b,t.x*e.y-t.y*e.x)}function Ac(t){this.length=t.length||t;for(var e=0;e<this.length;e++)this[e]=t[e]||0}function Cc(t){this.length=t.length||t;for(var e=0;e<this.length;e++)this[e]=t[e]||0}function Dc(t,e,i,r,a,n,s,o,h,c,f,l,d,u,p,b,g){return t[0]=e,t[1]=i,t[2]=r,t[3]=a,t[4]=n,t[5]=s,t[6]=o,t[7]=h,t[8]=c,t[9]=f,t[10]=l,t[11]=d,t[12]=u,t[13]=p,t[14]=b,t[15]=g,t}function Ec(t,e,i){e*=4,t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3]}function Fc(t,e,i){e*=4,i[0]=t[e],i[1]=t[e+1],i[2]=t[e+2],i[3]=t[e+3]}function Gc(t,e,i,r,a){t[e]=i,t[e+4]=r,t[e+8]=a,t[e+12]=0}function Hc(t,e,i){t[e]=i[0],t[e+4]=i[1],t[e+8]=i[2],t[e+12]=i[3]}function Ic(t,e,i){i[0]=t[e],i[1]=t[e+4],i[2]=t[e+8],i[3]=t[e+12]}function Jc(t,e,i,r){var a=t[1]*e+t[5]*i+t[9]*r+t[13],n=t[2]*e+t[6]*i+t[10]*r+t[14],s=t[3]*e+t[7]*i+t[11]*r+t[15];return t[12]=t[0]*e+t[4]*i+t[8]*r+t[12],t[13]=a,t[14]=n,t[15]=s,t}function Kc(){Q.call(this),this.c="transform",this.ia=H.d.Oc()}function Lc(t,e,i){t.ia[e+4*i]*=-1,t.n()}function Mc(){Q.call(this),this.c="texture",this.va=this.jb=this.o=r,this.wb=this.xb=0,Ea(this,new pc)}function U(t,e){Q.call(this),this.c="triplets",this.Ob=1/0,this.Lb=-1/0,this.Pb=1/0,this.Mb=-1/0,this.Qb=1/0,this.Nb=-1/0,this.Vc=[0,0,0],this.ef=q,this.B=0,this.L=new Float32Array(t),e!=r&&(this.L=e.L.subarray(0,e.L.length),this.B=this.L.length,this.Ob=e.Ob,this.Lb=e.Lb,this.Pb=e.Pb,this.Mb=e.Mb,this.Qb=e.Qb,this.Nb=e.Nb,this.Vc=e.Vc.slice(),this.ef=s)}function Nc(){this.ja=Oc,this.Wb=new Kc,this.Gb=[1,1,1],this.Vb=this.z=this.W=this.j=this.i=r,this.kc=[],this.Ja=q,this.jc=this.Ec=1,this.fc=r,this.xc=s,this.Z=1,this.K=0}function Pc(){this.Ia=1/0,this.P=this.Fa=-1/0,this.S=1/0,this.sb=[0,0,0],this.qb=[1,1,1]}function Qc(){Q.call(this),this.c="scalars",this.sc=this.v=r,this.qf=q,this.Td=0,Ea(this,new pc),Ea(this,new Pc),this.sb=[0,1,0],this.qb=[1,0,0]}function W(t){Q.call(this),this.c="object",this.e=[],this.u=this.$=r,Ea(this,new Nc),t!=r&&this.Xb(t)}function Sc(t,e){return!(t!=r&&e!=r&&t instanceof W&&e instanceof W||!m(Error("Fatal: Two valid X.objects are required for comparison."))),1==t.Z?-1:1==e.Z?1:t.K!=r&&e.K!=r&&t.K>e.K?-1:1}function Tc(){}function Uc(t){for(var e=t.i.count,i=[],r=0,r=0;e>r;r+=3){var a=t.i.get(r),n=t.i.get(r+1),s=t.i.get(r+2),o=t.j.get(r),h=t.j.get(r+1),c=t.j.get(r+2),f=t.Gb;t.W&&0<t.W.length&&(f=t.W.get(r));var l=[];l.push(new cc(a,o)),l.push(new cc(n,h)),l.push(new cc(s,c)),i.push(new ec(l,f))}return mc(i)}function Vc(t,e){!(e!=r&&e instanceof lc||!m(Error("Invalid CSG object.")));var i=new nc,a=[];Fb(e.A,function(t){var e=[],r=t.Nd,e=Fb(t.hb,function(t){return t.color=r,i.add(t)});for(t=t=2;t<e.length;t++)a.push([e[0],e[t-1],e[t]])}.bind(t)),t.xg=Fb(i.unique(),function(t){return[t.Aa.x(),t.Aa.y(),t.Aa.b()]}),t.wg=Fb(i.unique(),function(t){return[t.ba.x(),t.ba.y(),t.ba.b()]}),t.vg=Fb(i.unique(),function(t){return t.color?[t.color[0],t.color[1],t.color[2]]:r}),t.i=new U(9*a.length),t.j=new U(9*a.length),t.W=new U(9*a.length),Fb(a,function(t){var e=t[0],i=t[1];t=t[2];var r=this.xg,a=this.wg,n=this.vg;this.i.add(r[e][0],r[e][1],r[e][2]),this.i.add(r[i][0],r[i][1],r[i][2]),this.i.add(r[t][0],r[t][1],r[t][2]),this.j.add(a[e][0],a[e][1],a[e][2]),this.j.add(a[i][0],a[i][1],a[i][2]),this.j.add(a[t][0],a[t][1],a[t][2]),n[e]&&this.W.add(n[e][0],n[e][1],n[e][2]),n[i]&&this.W.add(n[i][0],n[i][1],n[i][2]),n[t]&&this.W.add(n[t][0],n[t][1],n[t][2])}.bind(t)),0==t.W.B&&(t.W=r),t.ja=Oc}function Wc(t){ub.call(this,t),this.c="event"}function gd(){Wc.call(this,bd),this.Zd=this.le=0}function hd(){Wc.call(this,Xc),this.K=new H.f(0,0,0)}function id(){Wc.call(this,Yc),this.K=new H.f(0,0,0)}function jd(){Wc.call(this,Zc),this.Ha=this.Qa=s}function kd(){Wc.call(this,$c),this.I=s}function ld(){Wc.call(this,ed),this.nd=this.md=0}function md(){Wc.call(this,fd)}function nd(){Wc.call(this,ad)}function Rc(){Wc.call(this,cd),this.q=this.Y=r}function od(){Wc.call(this,dd),this.sf=0}function pd(){Q.call(this),this.c="parser",this.X=r,this.B=0,this.Ag=0<new Int8Array(new Int16Array([1]).buffer)[0],this.$c=q,this.Hj=-1/0,this.Gj=1/0}function qd(t){for(var e=1/0,i=-1/0,r=t.length,a=0,a=0;r>a;a++)var n=t[a],e=Math.min(e,n),i=Math.max(i,n);return[e,i]}function rd(t,e,i){e===n&&(e=0),i===n&&(i=t.length);for(var r="",a=0,a=e;i>a;++a)r+=String.fromCharCode(t[a]);return r}function Y(t,e,i){i!=r||(i=1);var a=1,n=Uint8Array;switch(e){case"schar":n=Int8Array;break;case"ushort":n=Uint16Array,a=2;break;case"sshort":n=Int16Array,a=2;break;case"uint":n=Uint32Array,a=4;break;case"sint":n=Int32Array,a=4;break;case"float":n=Float32Array,a=4}if(e=new n(t.X.slice(t.B,t.B+=i*a)),t.Ag!=t.$c){for(t=e,e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),n=0;n<t.byteLength;n+=a)for(var s=n+a-1,o=n;s>o;s--,o++){var h=e[o];e[o]=e[s],e[s]=h}e=t}return 1==i?e[0]:e}function sd(t,e,i){H.Ea(t.c+".reslice");var a=e.aa,n=i.max,o=i.data,h=a[2],c=a[1],a=a[0],f=e.m!=r,l=c*a,d=Array(h),u=Array(h),p=0,b=r;e.$&&(b=e.$.pb);for(var g=0,y=0,w=0,m=0,v=4*l,g=0;h>g;g++){d[g]=Array(c),u[g]=Array(c);for(var _=o.subarray(g*l,(g+1)*l),E=new Uint8Array(v),y=m=0;c>y;y++)for(d[g][y]=new i.data.constructor(a),u[g][y]=new i.data.constructor(a),w=0;a>w;w++){var p=_[m],x=0,T=0,S=0,D=0;b?(D=b.get(Math.floor(p)),D||(x=b.bb(),D=x[x.length-1]),x=255*D[1],T=255*D[2],S=255*D[3],D=255*D[4]):(x=T=S=255*(p/n),D=255);var A=4*m;E[A]=x,E[++A]=T,E[++A]=S,E[++A]=D,d[g][y][w]=255*(p/n),u[g][y][w]=p,m++}p=new Mc,p.va=E,p.xb=a,p.wb=c,_=e.Za.e[g],_.z=p,f&&(_.m=e.m.Za.e[g].z)}return e.ee&&(a!=c?f?e.$?(td(h,a,c,u,e.$,e.R,e.m.R,q),td(h,c,a,u,e.$,e.Q,e.m.Q,s)):(ud(h,a,c,d,e.R,e.m.R,q),ud(h,c,a,d,e.Q,e.m.Q,s)):e.$?(td(h,a,c,u,e.$,e.R,r,q),td(h,c,a,u,e.$,e.Q,r,s)):(ud(h,a,c,d,e.R,r,q),ud(h,c,a,d,e.Q,r,s)):f?e.$?vd(h,a,c,d,e.$,e.Q,e.m.Q,e.R,e.m.R):wd(h,a,c,d,e.Q,e.m.Q,e.R,e.m.R):e.$?vd(h,a,c,u,e.$,e.Q,r,e.R,r):wd(h,a,c,d,e.Q,r,e.R,r)),H.qa(t.c+".reslice"),u}function ud(t,e,i,r,a,n,s){for(var o=4*t*e,h=0,h=0;i>h;h++){for(var c=new Uint8Array(o),f=0,l=0,f=0;t>f;f++)for(var d=0,u=r[f],d=0;e>d;d++){var p,b=p=s?u[h][d]:u[d][h],g=p,y=4*l;c[y]=p,c[++y]=b,c[++y]=g,c[++y]=255,l++}f=new Mc,f.va=c,f.xb=e,f.wb=t,c=a.e[h],c.z=f,n&&(c.m=n.e[h].z)}}function td(t,e,i,r,a,n,s,o){a=a.pb;for(var h=4*t*e,c=0,c=0;i>c;c++){for(var f=new Uint8Array(h),l=0,d=0,l=0;t>l;l++)for(var u=r[l],p=0,p=0;e>p;p++){var b=a.get(Math.floor(o?u[c][p]:u[p][c]));b||(b=a.bb(),b=b[b.length-1]);var g=255*b[2],y=255*b[3],w=255*b[4],m=4*d;f[m]=255*b[1],f[++m]=g,f[++m]=y,f[++m]=w,d++}l=new Mc,l.va=f,l.xb=e,l.wb=t,f=n.e[c],f.z=l,s&&(f.m=s.e[c].z)}}function wd(t,e,i,r,a,n,s,o){for(var h=4*t*e,c=0,c=0;i>c;c++){for(var f=new Uint8Array(h),l=new Uint8Array(h),d=0,u=0,u=0;t>u;u++)for(var p=r[u],b=0,b=0;e>b;b++){var g=p[b][c],y=g,w=g,m=4*d;f[m]=g,f[++m]=y,f[++m]=w,f[++m]=255,w=y=g=m=p[c][b],m=4*d,l[m]=g,l[++m]=y,l[++m]=w,l[++m]=255,d++}d=new Mc,d.va=f,d.xb=e,d.wb=t,f=a.e[c],f.z=d,n&&(f.m=n.e[c].z),f=new Mc,f.va=l,f.xb=e,f.wb=t,l=s.e[c],l.z=f,o&&(l.m=o.e[c].z)}}function vd(t,e,i,r,a,n,s,o,h){a=a.pb;for(var c=4*t*e,f=0,f=0;i>f;f++){for(var l=new Uint8Array(c),d=new Uint8Array(c),u=0,p=0,p=0;t>p;p++)for(var b=r[p],g=0,g=0;e>g;g++){var y=a.get(Math.floor(b[g][f]));if(!y)var w=a.bb(),y=w[w.length-1];var m=255*y[2],v=255*y[3],_=255*y[4],w=4*u;l[w]=255*y[1],l[++w]=m,l[++w]=v,l[++w]=_,w=a.get(Math.floor(b[f][g])),w||(w=a.bb(),w=w[w.length-1]),y=255*w[1],m=255*w[2],v=255*w[3],_=255*w[4],w=4*u,d[w]=y,d[++w]=m,d[++w]=v,d[++w]=_,u++}u=new Mc,u.va=l,u.xb=e,u.wb=t,l=n.e[f],l.z=u,s&&(l.m=s.e[f].z),l=new Mc,l.va=d,l.xb=e,l.wb=t,d=o.e[f],d.z=l,h&&(d.m=h.e[f].z)}}function xd(){pd.call(this),this.c="parserLBL"}function yd(t,e){this.x=ga(t)?t:0,this.y=ga(e)?e:0}function zd(t,e){return new yd(t.x-e.x,t.y-e.y)}function Ad(t,e,i,r){this.top=t,this.right=e,this.bottom=i,this.left=r}function Bd(t,e){this.width=t,this.height=e}function Cd(t,e,i,r){this.left=t,this.top=e,this.width=i,this.height=r}function Ed(t){var e;e=t.className,e=la(e)&&e.match(/\S+/g)||[];for(var i=Ib(arguments,1),r=e.length+i.length,a=e,n=0;n<i.length;n++)0<=Db(a,i[n])||a.push(i[n]);return t.className=e.join(" "),e.length==r}function Gd(t){return t?new Hd(Id(t)):Dd||(Dd=new Hd)}function Jd(t){return la(t)?document.getElementById(t):t}function Ld(){return Md(document,arguments)}function Md(t,e){var i=e[0],a=e[1];if(!Fd&&a&&(a.name||a.type)){if(i=["<",i],a.name&&i.push(' name="',Ja(a.name),'"'),a.type){i.push(' type="',Ja(a.type),'"');var o={};zb(o,a),delete o.type,a=o}i.push(">"),i=i.join("")}var h=t.createElement(i);if(a)if(la(a))h.className=a;else if(ha(a))Ed.apply(r,[h].concat(a));else{var c,i=function(t,e){"style"==e?h.style.cssText=t:"class"==e?h.className=t:"for"==e?h.htmlFor=t:e in Kd?h.setAttribute(Kd[e],t):0==e.lastIndexOf("aria-",0)||0==e.lastIndexOf("data-",0)?h.setAttribute(e,t):h[e]=t};for(c in a)i.call(n,a[c],c)}if(2<e.length)for(c=function(e){e&&h.appendChild(la(e)?t.createTextNode(e):e)},a=2;a<e.length;a++)if(o=e[a],!ja(o)||na(o)&&0<o.nodeType)c(o);else{var f,i=Eb;t:{if((f=o)&&"number"==typeof f.length){if(na(f)){f="function"==typeof f.item||"string"==typeof f.item;break t}if(ma(f)){f="function"==typeof f.item;break t}}f=s}if(f)if(f=o.length,f>0){for(var l=Array(f),d=0;f>d;d++)l[d]=o[d];o=l}else o=[];i(o,c)}return h}function Nd(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Od(t){for(;t&&1!=t.nodeType;)t=t.nextSibling;return t}function Pd(t,e){if(t.contains&&1==e.nodeType)return t==e||t.contains(e);if("undefined"!=typeof t.compareDocumentPosition)return t==e||Boolean(16&t.compareDocumentPosition(e));for(;e&&t!=e;)e=e.parentNode;return e==t}function Id(t){return 9==t.nodeType?t:t.ownerDocument||t.document}function Hd(t){this.N=t||ca.document||document}function Qd(t){return"CSS1Compat"==t.N.compatMode}function Rd(t){var e=t.N;return t=db||"CSS1Compat"!=e.compatMode?e.body:e.documentElement,e=e.parentWindow||e.defaultView,new yd(e.pageXOffset||t.scrollLeft,e.pageYOffset||t.scrollTop)}function Sd(t,e){var i=Id(t);return i.defaultView&&i.defaultView.getComputedStyle&&(i=i.defaultView.getComputedStyle(t,r))?i[e]||i.getPropertyValue(e)||"":""}function Td(t,e){return Sd(t,e)||(t.currentStyle?t.currentStyle[e]:r)||t.style&&t.style[e]}function Ud(t){return t=t?Id(t):document,!L||L&&rb>=9||Qd(Gd(t))?t.documentElement:t.body}function Vd(t){var e=t.getBoundingClientRect();return L&&(t=t.ownerDocument,e.left-=t.documentElement.clientLeft+t.body.clientLeft,e.top-=t.documentElement.clientTop+t.body.clientTop),e}function Wd(t){if(L&&!(L&&rb>=8))return t.offsetParent;var e=Id(t),i=Td(t,"position"),a="fixed"==i||"absolute"==i;for(t=t.parentNode;t&&t!=e;t=t.parentNode)if(i=Td(t,"position"),a=a&&"static"==i&&t!=e.documentElement&&t!=e.body,!a&&(t.scrollWidth>t.clientWidth||t.scrollHeight>t.clientHeight||"fixed"==i||"absolute"==i||"relative"==i))return t;return r}function Xd(t){for(var e=new Ad(0,1/0,1/0,0),i=Gd(t),a=i.N.body,n=i.N.documentElement,s=db||"CSS1Compat"!=i.N.compatMode?i.N.body:i.N.documentElement;t=Wd(t);)if(!(L&&0==t.clientWidth||db&&0==t.clientHeight&&t==a||t==a||t==n||"visible"==Td(t,"overflow"))){var o,h=Yd(t);if(o=t,bb&&!pb("1.9")){var c=parseFloat(Sd(o,"borderLeftWidth"));if(Zd(o))var f=o.offsetWidth-o.clientWidth-c-parseFloat(Sd(o,"borderRightWidth")),c=c+f;o=new yd(c,parseFloat(Sd(o,"borderTopWidth")))}else o=new yd(o.clientLeft,o.clientTop);h.x+=o.x,h.y+=o.y,e.top=Math.max(e.top,h.y),e.right=Math.min(e.right,h.x+t.clientWidth),e.bottom=Math.min(e.bottom,h.y+t.clientHeight),e.left=Math.max(e.left,h.x)}return a=s.scrollLeft,s=s.scrollTop,e.left=Math.max(e.left,a),e.top=Math.max(e.top,s),i=(i.N.parentWindow||i.N.defaultView||window).document,i="CSS1Compat"==i.compatMode?i.documentElement:i.body,i=new Bd(i.clientWidth,i.clientHeight),e.right=Math.min(e.right,a+i.width),e.bottom=Math.min(e.bottom,s+i.height),0<=e.top&&0<=e.left&&e.bottom>e.top&&e.right>e.left?e:r}function Yd(t){var e,i=Id(t),r=Td(t,"position"),a=bb&&i.getBoxObjectFor&&!t.getBoundingClientRect&&"absolute"==r&&(e=i.getBoxObjectFor(t))&&(0>e.screenX||0>e.screenY),n=new yd(0,0),s=Ud(i);if(t==s)return n;if(t.getBoundingClientRect)e=Vd(t),t=Rd(Gd(i)),n.x=e.left+t.x,n.y=e.top+t.y;else if(i.getBoxObjectFor&&!a)e=i.getBoxObjectFor(t),t=i.getBoxObjectFor(s),n.x=e.screenX-t.screenX,n.y=e.screenY-t.screenY;else{e=t;do{if(n.x+=e.offsetLeft,n.y+=e.offsetTop,e!=t&&(n.x+=e.clientLeft||0,n.y+=e.clientTop||0),db&&"fixed"==Td(e,"position")){n.x+=i.body.scrollLeft,n.y+=i.body.scrollTop;break}e=e.offsetParent}while(e&&e!=t);for((ab||db&&"absolute"==r)&&(n.y-=i.body.offsetTop),e=t;(e=Wd(e))&&e!=i.body&&e!=s;)n.x-=e.scrollLeft,ab&&"TR"==e.tagName||(n.y-=e.scrollTop)}return n}function $d(t,e){return"number"==typeof t&&(t=(e?Math.round(t):t)+"px"),t}function ae(t){if("none"!=Td(t,"display"))return be(t);var e=t.style,i=e.display,r=e.visibility,a=e.position;return e.visibility="hidden",e.position="absolute",e.display="inline",t=be(t),e.display=i,e.position=a,e.visibility=r,t}function be(t){var e=t.offsetWidth,i=t.offsetHeight,r=db&&!e&&!i;return ga(e)&&!r||!t.getBoundingClientRect?new Bd(e,i):(t=Vd(t),new Bd(t.right-t.left,t.bottom-t.top))}function ce(t,e){t.style.display=e?"":"none"}function Zd(t){return"rtl"==Td(t,"direction")}function de(t,e){if(/^\d+px?$/.test(e))return parseInt(e,10);var i=t.style.left,r=t.runtimeStyle.left;t.runtimeStyle.left=t.currentStyle.left,t.style.left=e;var a=t.style.pixelLeft;return t.style.left=i,t.runtimeStyle.left=r,a}function ee(t,e){var i=t.currentStyle?t.currentStyle[e]:r;return i?de(t,i):0}function ge(t,e){if("none"==(t.currentStyle?t.currentStyle[e+"Style"]:r))return 0;var i=t.currentStyle?t.currentStyle[e+"Width"]:r;return i in fe?fe[i]:de(t,i)}function ie(t,e){sb.call(this),this.r=t;var i=na(this.r)&&1==this.r.nodeType?this.r:this.r?this.r.body:r;this.wh=!!i&&Zd(i),this.Nj=O(this.r,bb?"DOMMouseScroll":"mousewheel",this,e)}function je(t,e){return db&&(Ta||Wa)&&0!=t%e?t:t/e}function ke(t,e,i,r){e&&this.ea(e,n),this.type="mousewheel",this.detail=t,this.Kj=i,this.nc=r}function le(t){!(t!=r&&t instanceof Element||!m(Error("Could not add interactor to the given element."))),Q.call(this),this.c="interactor",this.ra=t,this.ae=this.jf=this.hf=this.kf=this.gf=this.lf=r,this.$d=q,this.yb=this.rb=this.Xa=s,this.cd=[0,0],this.Vd=new H.f(0,0,0),this.wc=new H.f(0,0,0),this.Qf=0,this.rf=this.Zc=r,this.F={MOUSEWHEEL_ENABLED:q,MOUSECLICKS_ENABLED:q,KEYBOARD_ENABLED:q,HOVERING_ENABLED:q,CONTEXTMENU_ENABLED:s,TOUCH_ENABLED:q,TOUCH_BOUNCING_ENABLED:s}}function oe(t){if(clearTimeout(t.rf),t.jd){var e=new jd;e.Qa=s,e.Ha=t instanceof ne,t.dispatchEvent(e)}t.jd=s}function me(t){t.Zc&&clearTimeout(t.Zc),t.dispatchEvent(new md)}function pe(t){le.call(this,t),this.c="interactor2D"}function qe(t){W.call(this),this.c="slice",this.k=[0,0,0],this.hc=[0,0,1],this.I=[0,1,0],this.G=this.M=10,this.Vb=[0,1,0,0,1,1,1,1,1,0,0,0],this.m=this.ab=r,this.Pa=q,this.ec=[1,1,1],t!=r&&this.Xb(t)}function R(t){W.call(this),this.c="volume",this.k=[0,0,0],this.aa=[10,10,10],this.H=[1,1,1],this.jb=[],this.vc=this.mb=this.uc=this.lb=this.tc=this.kb=0,this.Q=new W,this.R=new W,this.Za=new W,this.ld=this.Ka=s,this.zb=0,this.m=r,this.Pa=q,this.U=1/0,this.T=-1/0,this.ee=q,Ea(this,new pc),Ea(this,new Pc),t!=r&&this.Xb(t)}function re(t,e){if(t.Ka&&(t.g||e!=t.zb)){var i=t.e[t.zb];i.visible=s;var r,i=t.e[e],a=i.e.length;for(r=0;a>r;r++)i.e[r].Ja=q;t.zb=e,t.g=s}}function ve(){pd.call(this),this.c="parserSTL"}function we(){pd.call(this),this.c="parserDCM"}function xe(){pd.call(this),this.c="parserVTK"}function ye(t,e){e=e.replace(/^\s+|\s+$/g,"");var i=e.split(" "),r=i.length,a=i[0];switch(a){case"POINTS":return t.vb=q,t.ib=s,t.ub=s,i=parseInt(i[1],10),t.Ic=new U(3*i),void(t.Hc=new U(3*i));case"VERTICES":return t.ib=q,t.vb=s,t.ub=s,i=parseInt(i[1],10),i>=3?t.ta=Oc:1==i?t.ta="POINTS":m(Error("This VTK file is not supported!")),void(t.Jb=[]);case"TRIANGLE_STRIPS":return t.ib=q,t.vb=s,t.ub=s,t.ta="TRIANGLE_STRIPS",void(t.Jb=[]);case"LINES":return t.ib=q,t.vb=s,t.ub=s,t.ta="LINES",void(t.Jb=[]);case"POLYGONS":return t.ib=q,t.vb=s,t.ub=s,t.ta="POLYGONS",void(t.Jb=[]);case"POINT_DATA":return t.ub=q,t.vb=s,void(t.ib=s)}if(t.vb)if(1==r||isNaN(parseFloat(a)))t.vb=s;else{if(r>=3){var a=parseFloat(i[0]),n=parseFloat(i[1]),o=parseFloat(i[2]);t.Ic.add(a,n,o)}r>=6&&(a=parseFloat(i[3]),n=parseFloat(i[4]),o=parseFloat(i[5]),t.Ic.add(a,n,o)),r>=9&&(r=parseFloat(i[6]),a=parseFloat(i[7]),i=parseFloat(i[8]),t.Ic.add(r,a,i))}else t.ib?1==r||isNaN(parseFloat(a))?t.ib=s:(i=i.slice(1),t.Jb.push(i)):t.ub&&("NORMALS"==a?t.ce=q:1==r||isNaN(parseFloat(a))?(t.ub=s,t.ce=s):t.ce&&(r>=3&&(a=parseFloat(i[0]),n=parseFloat(i[1]),o=parseFloat(i[2]),t.Hc.add(a,n,o)),r>=6&&(a=parseFloat(i[3]),n=parseFloat(i[4]),o=parseFloat(i[5]),t.Hc.add(a,n,o)),r>=9&&(r=parseFloat(i[6]),a=parseFloat(i[7]),i=parseFloat(i[8]),t.Hc.add(r,a,i))))}function ze(){pd.call(this),this.c="parserFSM",this.$c=s}function Be(t){var e,i,r,a,n,s,o,h,c,f=t.length,l=0,d=Number.POSITIVE_INFINITY;for(h=0;f>h;++h)t[h]>l&&(l=t[h]),t[h]<d&&(d=t[h]);for(e=1<<l,i=new Uint32Array(e),r=1,a=0,n=2;l>=r;){for(h=0;f>h;++h)if(t[h]===r){for(s=0,o=a,c=0;r>c;++c)s=s<<1|1&o,o>>=1;for(c=s;e>c;c+=n)i[c]=r<<16|h;++a}++r,a<<=1,n<<=1}return[i,l,d]}function Ce(t,e){switch(this.oe=[],this.pe=32768,this.La=this.Kc=this.fa=this.Ve=0,this.input=new Uint8Array(t),this.uf=s,this.qe=De,this.fb=s,(e||!(e={}))&&(e.index&&(this.fa=e.index),e.bufferSize&&(this.pe=e.bufferSize),e.bufferType&&(this.qe=e.bufferType),e.resize&&(this.fb=e.resize)),this.qe){case Ee:this.O=32768,this.ya=new Uint8Array(32768+this.pe+258);break;case De:this.O=0,this.ya=new Uint8Array(this.pe),this.Zb=this.Wg,this.xf=this.Mg,this.xe=this.Qg;break;default:m(Error("invalid inflate mode"))}}function Fe(t,e){for(var i,r=t.Kc,a=t.La,s=t.input,o=t.fa;e>a;)i=s[o++],i===n&&m(Error("input buffer is broken")),r|=i<<a,a+=8;return i=r&(1<<e)-1,t.Kc=r>>>e,t.La=a-e,t.fa=o,i}function Ue(t,e){for(var i,r=t.Kc,a=t.La,s=t.input,o=t.fa,h=e[0],c=e[1];c>a;)i=s[o++],i===n&&m(Error("input buffer is broken")),r|=i<<a,a+=8;return s=h[r&(1<<c)-1],h=s>>>16,t.Kc=r>>h,t.La=a-h,t.fa=o,65535&s}function Ie(t){function e(t,e,i){var r,a,n;for(n=0;t>n;)switch(r=Ue(this,e)){case 16:for(r=3+Fe(this,2);r--;)i[n++]=a;break;case 17:for(r=3+Fe(this,3);r--;)i[n++]=0;a=0;break;case 18:for(r=11+Fe(this,7);r--;)i[n++]=0;a=0;break;default:a=i[n++]=r}return i}var i,r=Fe(t,5)+257,a=Fe(t,5)+1,n=Fe(t,4)+4,s=new Uint8Array(Je.length);for(i=0;n>i;++i)s[Je[i]]=Fe(t,3);n=Be(s),s=new Uint8Array(r),i=new Uint8Array(a),t.xe(Be(e.call(t,r,n,s)),Be(e.call(t,a,n,i)))}function $e(){var t=af;switch(q){case 3===t:return[257,t-3,0];case 4===t:return[258,t-4,0];case 5===t:return[259,t-5,0];case 6===t:return[260,t-6,0];case 7===t:return[261,t-7,0];case 8===t:return[262,t-8,0];case 9===t:return[263,t-9,0];case 10===t:return[264,t-10,0];case 12>=t:return[265,t-11,1];case 14>=t:return[266,t-13,1];case 16>=t:return[267,t-15,1];case 18>=t:return[268,t-17,1];case 22>=t:return[269,t-19,2];case 26>=t:return[270,t-23,2];case 30>=t:return[271,t-27,2];case 34>=t:return[272,t-31,2];case 42>=t:return[273,t-35,3];case 50>=t:return[274,t-43,3];case 58>=t:return[275,t-51,3];case 66>=t:return[276,t-59,3];case 82>=t:return[277,t-67,4];case 98>=t:return[278,t-83,4];case 114>=t:return[279,t-99,4];case 130>=t:return[280,t-115,4];case 162>=t:return[281,t-131,5];case 194>=t:return[282,t-163,5];case 226>=t:return[283,t-195,5];case 257>=t:return[284,t-227,5];case 258===t:return[285,t-258,0];default:m("invalid length: "+t)}}function df(){}function ef(t){this.input=t,this.fa=0,this.member=[]}function ff(){pd.call(this),this.c="parserMGZ",this.$c=s}function gf(){pd.call(this),this.c="parserCRV",this.$c=s}function hf(){pd.call(this),this.c="parserTRK"}function jf(){pd.call(this),this.c="parserIMAGE"}function kf(){pd.call(this),this.c="parserLUT"}function lf(){pd.call(this),this.c="parserNRRD"}function mf(){pd.call(this),this.c="parserNII"}function nf(){pd.call(this),this.c="parserOBJ"}function of(){Q.call(this),this.c="loader",this.ic=new rc,this.Fc=0}function pf(t,e){t.Fc+=e/t.ic.ud()/3,t.Fc=Math.min(1,t.Fc);var i=new od;i.sf=t.Fc,t.dispatchEvent(i)}function qf(t){t=t.o.dd;var e=t.split(".").pop().toUpperCase();return e==t.toUpperCase()&&(e=""),e in rf||m(Error("The "+e+" file format is not supported.")),[t,e,rf[e][0],rf[e][1],rf[e][2]]}function sf(t,e){(!y(t)||!y(e))&&m(Error("A camera needs valid width and height values.")),Q.call(this),this.c="camera",this.ua=new H.f(0,0,100),this.gc=new H.f(0,0,0),this.I=new H.f(0,1,0),this.p=this.Ed(this.ua,this.gc)}function tf(t){function e(t,e,r){return e=2*e*Math.PI,e=ya(za(h,Math.cos(e)),za(c,Math.sin(e))),t=ya(ya(i,za(a,t)),za(e,n)),r=ya(za(e,1-Math.abs(r)),za(s,r)),new cc(t,r)}this.A=[],t=t||{};var i=new xa(t.start||[0,-1,0]),r=new xa(t.end||[0,1,0]),a=Aa(r,i),n=t.Ta||1;t=t.Re||16;for(var s=Ba(a),o=.5<Math.abs(s.y()),h=Ba(new xa(o,!o,0).Yb(s)),c=Ba(h.Yb(s)),o=new cc(i,Ca(s)),r=new cc(r,Ba(s)),f=[],l=0;t>l;l++){var d=l/t,u=(l+1)/t;f.push(new ec([o,e(0,d,-1),e(0,u,-1)])),f.push(new ec([e(0,u,0),e(0,d,0),e(1,d,0),e(1,u,0)])),f.push(new ec([r,e(1,u,1),e(1,d,1)]))}return mc(f)}function uf(){W.call(this),this.c="cylinder",this.je=[-10,-10,-10],this.Rd=[10,10,10],this.Rb=10,this.Ub=32,Ea(this,new Tc)}function vf(t){function e(t,e){t*=2*Math.PI,e*=Math.PI;var a=new xa(Math.cos(t)*Math.sin(e),Math.cos(e),Math.sin(t)*Math.sin(e));s.push(new cc(ya(i,za(a,r)),a))}this.A=[],t=t||{};var i=new xa(t.se||[0,0,0]),r=t.Ta||1,a=t.Re||16;t=t.Hi||8;for(var n=[],s=[],o=0;a>o;o++)for(var h=0;t>h;h++)s=[],e(o/a,h/t),h>0&&e((o+1)/a,h/t),t-1>h&&e((o+1)/a,(h+1)/t),e(o/a,(h+1)/t),n.push(new ec(s));return mc(n)}function wf(){W.call(this),this.c="sphere",this.k=[0,0,0],this.Rb=5,this.Ub=32,this.Bg=16,Ea(this,new Tc)}function ue(t){R.call(this),this.c="labelmap",this.ab=t}function xf(t){this.A=[],t=t||{};var e=new xa(t.se||[0,0,0]),i=t.Ta?t.Ta.length?t.Ta:[t.Ta,t.Ta,t.Ta]:[1,1,1];return mc([[[0,4,6,2],[-1,0,0]],[[1,3,7,5],[1,0,0]],[[0,1,5,4],[0,-1,0]],[[2,6,7,3],[0,1,0]],[[0,2,3,1],[0,0,-1]],[[4,5,7,6],[0,0,1]]].map(function(t){return new ec(t[0].map(function(r){return r=new xa(e.x()+i[0]*(2*!!(1&r)-1),e.y()+i[1]*(2*!!(2&r)-1),e.b()+i[2]*(2*!!(4&r)-1)),new cc(r,new xa(t[1]))
}))}))}function yf(){W.call(this),this.c="cube",this.k=[0,0,0],this.Yd=this.Xd=this.Wd=20,this.Vb=[0,1,1,1,1,0,0,1,1,0,0,0,1,1,1,0,0,0,1,1,0,0,0,1,0,1,1,1,1,0,0,1,1,0,0,0,0,0,0,1,1,1,0,0,1,1,1,0,1,1,1,0,0,0,1,1,0,0,0,1,0,1,1,1,1,0,0,1,1,0,0,0],Ea(this,new Tc)}function ne(t){le.call(this,t),this.c="interactor3D",this.Ej=s}function zf(t){Q.call(this),this.c="array",this.v=[],this.af=t}function Af(t,e,i){var r=i-e;if(!(2>r))for(r=e+Math.floor(r/2),Af(t,e,r),Af(t,r,i);r>e;++e)if(0<t.af(t.v[e],t.v[r])){var a=t.v[e];t.v[e]=t.v[r];for(var n=t,s=r,o=i;o>s+1&&0>n.af(n.v[s+1],a);){var h=n,c=s+1,f=h.v[s];h.v[s]=h.v[c],h.v[c]=f,++s}n.v[s]=a}}function Bf(t,e){sf.call(this,t,e),this.c="camera2D"}function Cf(t,e){sf.call(this,t,e),this.c="camera3D",this.cf=45,this.nf=H.d.Ce(H.d.Oc(),this.cf,t/e,1,1e4)}function Df(t){sb.call(this),this.cb=t,this.w=[]}function Ff(t,e,i,r,a){ha(i)||(Ef[0]=i,i=Ef);for(var n=0;n<i.length;n++){var o=O(e,i[n],r||t,a||s,t.cb||t);t.w.push(o)}}function Gf(){}function Hf(t){sb.call(this),this.Bb=t||Gd(),this.si=If}function Jf(){sb.call(this)}function Kf(t,e){return t.Ue==r?e:t.Pc+Math.round((e-t.Pc)/t.Ue)*t.Ue}function Lf(t){Hf.call(this,t),this.Tc=new Jf,O(this.Tc,"change",this.hh,s,this)}function Of(t){var e=t.yd();t.l().setAttribute("aria-valuenow",e)}function Pf(t,e){t==r&&m(Error("No valid parent element.")),e==r&&m(Error("Invalid initial value.")),Lf.call(this),this.c="progressbar",this.ma=t,this.mf="",this.Xc=this.$a=r,this.Hb=[];var i;i=".progress-bar-horizontal {\n  position: relative;\n  border: 1px solid #949dad;\n",i+="  background: white;\n",i+="  padding: 1px;\n",i+="  overflow: hidden;\n",i+="  margin: 2px;\n",i+="  width: 100px;\n",i+="  height: 5px;\n",i+="}";var a;a=".progress-bar-thumb {\n  position: relative;\n  background: #F62217;\n",a+="  overflow: hidden;\n",a+="  width: 0%;\n",a+="  height: 100%;\n",a+="}";var n;n=".progress-bar-thumb-done {\n  background: #57E964;\n}",this.Hb=[i,a,n],this.Md(e),this.ze()}function Qf(t){var e=t.l().style.top,i=t.l().style.left;Nd(t.l());var r=new Pf(t.ma,100),a=r.l();a.style.position="absolute",a.style.top=e,a.style.left=i,a.classList.add("xtk-progress-bar"),(a.firstElementChild!=n?a.firstElementChild:Od(a.firstChild)).classList.add("progress-bar-thumb-done"),t.Xc=r}function Rf(t,e,i){return ma(t)?i&&(t=ua(t,i)):t&&"function"==typeof t.handleEvent?t=ua(t.handleEvent,t):m(Error("Invalid listener argument")),e>2147483647?-1:ca.setTimeout(t,e||0)}function Sf(){Q.call(this),this.c="renderer",this.q=window.document.body,this.M=this.q.clientWidth,this.G=this.q.clientHeight,this.Kb=this.t=this.ga=r,this.Ya=new zf(Sc),this.Ra=[],this.C=r,this.de=this.ad=this.bd=s,this.a=this.na=r,this.F={PROGRESSBAR_ENABLED:q,INTERMEDIATE_RENDERING:s},this.Ze=-1,window.console.log("XTK release 10 -- 2013-02-14 16:30:17 -- http://www.goXTK.com -- @goXTK")}function Tf(){Q.call(this),this.c="shaders",this.kd="";var t;t="precision mediump float;\n\n",t+="attribute vec3 vertexPosition;\n",t+="attribute vec3 vertexNormal;\n",t+="attribute vec3 vertexColor;\n",t+="attribute vec2 vertexTexturePos;\n",t+="attribute float vertexScalar;\n",t+="\n",t+="uniform mat4 view;\n",t+="uniform mat4 perspective;\n",t+="uniform vec3 center;\n",t+="uniform mat4 objectTransform;\n",t+="uniform bool useObjectColor;\n",t+="uniform bool useScalars;\n",t+="uniform bool scalarsReplaceMode;\n",t+="uniform float scalarsMin;\n",t+="uniform float scalarsMax;\n",t+="uniform vec3 scalarsMinColor;\n",t+="uniform vec3 scalarsMaxColor;\n",t+="uniform float scalarsMinThreshold;\n",t+="uniform float scalarsMaxThreshold;\n",t+="uniform int scalarsInterpolation;\n",t+="uniform vec3 objectColor;\n",t+="uniform float pointSize;\n",t+="\n",t+="varying float fDiscardNow;\n",t+="varying vec4 fVertexPosition;\n",t+="varying vec3 fragmentColor;\n",t+="varying vec2 fragmentTexturePos;\n",t+="varying vec3 fVertexNormal;\n",t+="varying vec3 fTransformedVertexNormal;\n",t+="\n",t+="void main(void) {\n",t+="  fTransformedVertexNormal = mat3(view[0].xyz,view[1].xyz,view[2].xyz) * ",t+="mat3(objectTransform[0].xyz,objectTransform[1].xyz,objectTransform[2].xyz) * ",t+="vertexNormal;\n",t+="  fVertexNormal = vertexNormal;\n",t+="  fDiscardNow = 0.0;\n",t+="  vec3 vertexPosition2 = vertexPosition - center;\n",t+="  fVertexPosition = view * objectTransform * vec4(vertexPosition2, 1.0);\n",t+="  fragmentTexturePos = vertexTexturePos;\n",t+="  if (useScalars) {\n",t+="    float scalarValue = vertexScalar;\n",t+="    if (scalarValue < scalarsMinThreshold || scalarValue > scalarsMaxThreshold) {\n",t+="      if (scalarsReplaceMode) {\n",t+="        fragmentColor = objectColor;\n",t+="      } else {\n",t+="        fDiscardNow = 1.0;\n",t+="      }\n",t+="    } else {\n",t+="      if (scalarsReplaceMode) {\n",t+="        if (scalarsInterpolation == 1) {\n",t+="            vec3 zeroMaxColor;\n",t+="            vec3 zeroMinColor;\n",t+="            zeroMaxColor[0] = scalarsMaxColor[0]*0.33;\n",t+="            zeroMaxColor[1] = scalarsMaxColor[1]*0.33;\n",t+="            zeroMaxColor[2] = scalarsMaxColor[2]*0.33;\n",t+="            zeroMinColor[0] = scalarsMinColor[0]*0.33;\n",t+="            zeroMinColor[1] = scalarsMinColor[1]*0.33;\n",t+="            zeroMinColor[2] = scalarsMinColor[2]*0.33;\n",t+="            if(scalarValue < 0.0) {fragmentColor = scalarValue/(scalarsMin) * scalarsMinColor + (1.0 - scalarValue/(scalarsMin)) * (zeroMinColor);}\n",t+="            else {fragmentColor = scalarValue/(scalarsMax) * scalarsMaxColor + (1.0 - scalarValue/(scalarsMax)) * (zeroMaxColor);}\n",t+="        } else {\n",t+="            fragmentColor = scalarValue * scalarsMaxColor + (1.0 - scalarValue) * scalarsMinColor;\n",t+="          }\n",t+="      } else {\n",t+="        fragmentColor = vertexColor;\n",t+="      }\n",t+="    }\n",t+="  } else if (useObjectColor) {\n",t+="    fragmentColor = objectColor;\n",t+="  } else {\n",t+="    fragmentColor = vertexColor;\n",t+="  }\n",t+="  gl_PointSize = pointSize;\n",t+="  gl_Position = perspective * fVertexPosition;\n",this.kd=t+="}\n",this.Yc="",t="precision mediump float;\n\n",t+="uniform bool usePicking;\n",t+="uniform bool useTexture;\n",t+="uniform bool volumeTexture;\n",t+="uniform bool useLabelMapTexture;\n",t+="uniform sampler2D textureSampler;\n",t+="uniform sampler2D textureSampler2;\n",t+="uniform float objectOpacity;\n",t+="uniform float labelmapOpacity;\n",t+="uniform float volumeLowerThreshold;\n",t+="uniform float volumeUpperThreshold;\n",t+="uniform float volumeScalarMin;\n",t+="uniform float volumeScalarMax;\n",t+="uniform vec3 volumeScalarMinColor;\n",t+="uniform vec3 volumeScalarMaxColor;\n",t+="uniform float volumeWindowLow;\n",t+="uniform float volumeWindowHigh;\n",t+="\n",t+="varying float fDiscardNow;\n",t+="varying vec4 fVertexPosition;\n",t+="varying vec3 fragmentColor;\n",t+="varying vec2 fragmentTexturePos;\n",t+="varying vec3 fVertexNormal;\n",t+="varying vec3 fTransformedVertexNormal;\n",t+="\n",t+="void main(void) {\n",t+=" if (fDiscardNow > 0.0) {\n",t+="   discard;\n",t+=" }\n",t+=" if (usePicking) {\n",t+="   gl_FragColor = vec4(fragmentColor, 1.0);\n",t+=" } else if (useTexture) {\n",t+="   vec4 texture1 = texture2D(textureSampler,fragmentTexturePos);\n",t+="   vec4 textureSum = texture1;\n",t+="   if (volumeTexture) {\n",t+="     float _windowLow = (volumeWindowLow / volumeScalarMax);\n",t+="     float _windowHigh = (volumeWindowHigh / volumeScalarMax);\n",t+="     vec3 _minrange = vec3(_windowLow,_windowLow,_windowLow);\n",t+="     vec3 _maxrange = vec3(_windowHigh,_windowHigh,_windowHigh);\n",t+="     vec3 fac = _maxrange - _minrange;\n",t+="     textureSum = vec4((textureSum.r - _minrange)/fac,1);\n",t+="     textureSum = textureSum.r * vec4(volumeScalarMaxColor,1) + (1.0 - textureSum.r) * vec4(volumeScalarMinColor,1);\n",t+="   }\n",t+="   if (useLabelMapTexture) {\n",t+="     vec4 texture2 = texture2D(textureSampler2,fragmentTexturePos);\n",t+="     if (texture2.a > 0.0) {\n",t+="       if (labelmapOpacity < 1.0) {\n",t+="         textureSum = mix(texture2, textureSum, 1.0 - labelmapOpacity);\n",t+="       } else {\n",t+="         textureSum = texture2;\n",t+="       }\n",t+="     }\n",t+="   }\n",t+="   if (volumeTexture) {\n",t+="     float _volumeLowerThreshold = (volumeLowerThreshold / volumeScalarMax);\n",t+="     float _volumeUpperThreshold = (volumeUpperThreshold / volumeScalarMax);\n",t+="     if (texture1.r < _volumeLowerThreshold ||\n",t+="         texture1.r > _volumeUpperThreshold) {\n",t+="       discard;\n",t+="     };\n",t+="   };\n",t+="   gl_FragColor = textureSum;\n",t+="   gl_FragColor.a = objectOpacity;\n",t+=" } else {\n",t+="   vec3 nNormal = normalize(fTransformedVertexNormal);\n",t+="   if (fVertexNormal == vec3(0.0,0.0,0.0)) {\n",t+="     gl_FragColor = vec4(fragmentColor,1.0);\n",t+="     return;\n",t+="   }\n",t+="   vec3 light = vec3(0.0, 0.0, 1.0);\n",t+="   vec3 lightDirection = vec3(0,0,-10);\n",t+="   lightDirection = normalize(lightDirection);\n",t+="   vec3 eyeDirection = normalize(-fVertexPosition.xyz);\n",t+="   vec3 reflectionDirection = reflect(-lightDirection, nNormal);\n",t+="   float specular = pow(max(dot(reflectionDirection, eyeDirection), 0.0), 10.0);\n",t+="   float diffuse = 0.8 * max(dot(nNormal, light), 0.0);\n",t+="   float ambient = 0.3;\n",t+="   gl_FragColor = vec4(fragmentColor * ambient +\n",t+="                       fragmentColor * diffuse +\n",t+="                       vec3(0.2, 0.2, 0.2) * specular,\n",t+="                       objectOpacity);\n",t+=" }\n",this.Yc=t+="}\n"}function Wf(t,e,i){t==r&&m(Error("Invalid GL Buffer.")),e==r&&m(Error("Invalid number of items.")),i==r&&m(Error("Invalid item size.")),Q.call(this),this.c="buffer",this.ha=t,this.nb=e,this.ob=i}function Xf(t,e,i,r,a,s,o,h){var c,f;if(c=i.offsetParent){var l="HTML"==c.tagName||"BODY"==c.tagName;l&&"static"==Td(c,"position")||(f=Yd(c),l||(l=(l=Zd(c))&&bb?-c.scrollLeft:!l||L&&pb("8")||"visible"==Td(c,"overflowX")?c.scrollLeft:c.scrollWidth-c.clientWidth-c.scrollLeft,f=zd(f,new yd(l,c.scrollTop))))}c=f||new yd,f=Yd(t),l=ae(t),f=new Cd(f.x,f.y,l.width,l.height),(l=Xd(t))&&f.Of(new Cd(l.left,l.top,l.right-l.left,l.bottom-l.top));var l=Gd(t),d=Gd(i);if(l.N!=d.N){var u=l.N.body,d=d.N.parentWindow||d.N.defaultView,p=new yd(0,0),b=Id(u)?Id(u).parentWindow||Id(u).defaultView:window,g=u;do{var y;if(b==d)y=Yd(g);else{y=g;var w=new yd;if(1==y.nodeType){if(y.getBoundingClientRect){var m=Vd(y);w.x=m.left,w.y=m.top}else{var m=Rd(Gd(y)),v=Yd(y);w.x=v.x-m.x,w.y=v.y-m.y}bb&&!pb(12)&&(m=n,m=n,L?m="-ms-transform":db?m="-webkit-transform":ab?m="-o-transform":bb&&(m="-moz-transform"),v=n,m&&(v=Td(y,m)),v||(v=Td(y,"transform")),v?(y=v.match(he),m=y?new yd(parseFloat(y[1]),parseFloat(y[2])):new yd(0,0)):m=new yd(0,0),w=new yd(w.x+m.x,w.y+m.y))}else m=ma(y.dh),v=y,y.targetTouches?v=y.targetTouches[0]:m&&y.Ma.targetTouches&&(v=y.Ma.targetTouches[0]),w.x=v.clientX,w.y=v.clientY;y=w}p.x+=y.x,p.y+=y.y}while(b&&b!=d&&(g=b.frameElement)&&(b=b.parent));u=zd(p,Yd(u)),L&&!Qd(l)&&(u=zd(u,Rd(l))),f.left+=u.x,f.top+=u.y}t=-5&(4&e&&Zd(t)?2^e:e),e=new yd(2&t?f.left+f.width:f.left,1&t?f.top+f.height:f.top),e=zd(e,c),a&&(e.x+=(2&t?-1:1)*a.x,e.y+=(1&t?-1:1)*a.y);var _;return o&&(_=Xd(i))&&(_.top-=c.y,_.right-=c.x,_.bottom-=c.y,_.left-=c.x),Yf(e,i,r,s,_,o,h)}function Yf(t,e,i,r,a,s,o){t=t.h();var h=0,c=-5&(4&i&&Zd(e)?2^i:i);return i=ae(e),o=o?o.h():i.h(),(r||0!=c)&&(2&c?t.x-=o.width+(r?r.right:0):r&&(t.x+=r.left),1&c?t.y-=o.height+(r?r.bottom:0):r&&(t.y+=r.top)),s&&(a?(h=t,r=0,65==(65&s)&&(h.x<a.left||h.x>=a.right)&&(s&=-2),132==(132&s)&&(h.y<a.top||h.y>=a.bottom)&&(s&=-5),h.x<a.left&&1&s&&(h.x=a.left,r|=1),h.x<a.left&&h.x+o.width>a.right&&16&s&&(o.width=Math.max(o.width-(h.x+o.width-a.right),0),r|=4),h.x+o.width>a.right&&1&s&&(h.x=Math.max(a.right-o.width,a.left),r|=1),2&s&&(r|=(h.x<a.left?16:0)|(h.x+o.width>a.right?32:0)),h.y<a.top&&4&s&&(h.y=a.top,r|=2),h.y<=a.top&&h.y+o.height<a.bottom&&32&s&&(o.height=Math.max(o.height-(a.top-h.y),0),h.y=0,r|=8),h.y>=a.top&&h.y+o.height>a.bottom&&32&s&&(o.height=Math.max(o.height-(h.y+o.height-a.bottom),0),r|=8),h.y+o.height>a.bottom&&4&s&&(h.y=Math.max(a.bottom-o.height,a.top),r|=2),8&s&&(r|=(h.y<a.top?64:0)|(h.y+o.height>a.bottom?128:0)),h=r):h=256,496&h)?h:(s=t,a=bb&&(Ta||gb)&&pb("1.9"),s instanceof yd?(t=s.x,s=s.y):(t=s,s=n),e.style.left=$d(t,a),e.style.top=$d(s,a),i==o||(i&&o?i.width==o.width&&i.height==o.height:0)||(t=Qd(Gd(Id(e))),!L||t&&pb("8")?(e=e.style,bb?e.MozBoxSizing="border-box":db?e.WebkitBoxSizing="border-box":e.boxSizing="border-box",e.width=Math.max(o.width,0)+"px",e.height=Math.max(o.height,0)+"px"):(i=e.style,t?(L?(t=ee(e,"paddingLeft"),a=ee(e,"paddingRight"),s=ee(e,"paddingTop"),r=ee(e,"paddingBottom"),t=new Ad(s,a,r,t)):(t=Sd(e,"paddingLeft"),a=Sd(e,"paddingRight"),s=Sd(e,"paddingTop"),r=Sd(e,"paddingBottom"),t=new Ad(parseFloat(s),parseFloat(a),parseFloat(r),parseFloat(t))),L?(a=ge(e,"borderLeft"),s=ge(e,"borderRight"),r=ge(e,"borderTop"),e=ge(e,"borderBottom"),e=new Ad(r,s,e,a)):(a=Sd(e,"borderLeftWidth"),s=Sd(e,"borderRightWidth"),r=Sd(e,"borderTopWidth"),e=Sd(e,"borderBottomWidth"),e=new Ad(parseFloat(r),parseFloat(s),parseFloat(e),parseFloat(a))),i.pixelWidth=o.width-e.left-t.left-t.right-e.right,i.pixelHeight=o.height-e.top-t.top-t.bottom-e.bottom):(i.pixelWidth=o.width,i.pixelHeight=o.height))),h)}function Zf(){}function $f(t,e,i){this.element=t,this.zf=e,this.fi=i}function ag(t,e){sb.call(this),this.cb=new Df(this),this.Oe(t||r),e&&(this.rc=e)}function bg(t,e){if(t.Od&&t.Od.stop(),t.zd&&t.zd.stop(),e){if(!t.oa&&t.He()){t.r||m(Error("Caller must call setElement before trying to show the popup")),t.Oa();var i=Id(t.r);if(t.mh&&Ff(t.cb,i,"keydown",t.Fh,q),t.Gg)if(Ff(t.cb,i,"mousedown",t.Zf,q),L){var r;try{r=i.activeElement}catch(a){}for(;r&&"IFRAME"==r.nodeName;){try{var n=r.contentDocument||r.contentWindow.document}catch(o){break}i=n,r=i.activeElement}Ff(t.cb,i,"mousedown",t.Zf,q),Ff(t.cb,i,"deactivate",t.Yf)}else Ff(t.cb,i,"blur",t.Yf);"toggle_display"==t.rc?(t.r.style.visibility="visible",ce(t.r,q)):"move_offscreen"==t.rc&&t.Oa(),t.oa=q,t.Od?(Sb(t.Od,"end",t.bg,s,t),t.Od.play()):t.bg()}}else cg(t)}function cg(t,e){return t.oa&&t.dispatchEvent({type:"beforehide",target:e})?(t.cb&&t.cb.Ne(),t.oa=s,t.Rf=wa(),t.zd?(Sb(t.zd,"end",va(t.yf,e),s,t),t.zd.play()):t.yf(e),q):s}function dg(t,e){this.ue=t instanceof yd?t:new yd(t,e)}function eg(t,e){this.ii=4,this.Fd=e||n,ag.call(this,t)}function fg(t){this.J=new rc,t&&this.me(t)}function gg(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+oa(t):e.substr(0,1)+t}function hg(t,e,i){if(this.Bb=i||(t?Gd(Jd(t)):Gd()),eg.call(this,this.Bb.lc("div",{style:"position:absolute;display:none;"})),this.ve=new yd(1,1),this.qd=new fg,t&&ig(this,t),e!=r)if(t=this.l(),"textContent"in t)t.textContent=e;else if(t.firstChild&&3==t.firstChild.nodeType){for(;t.lastChild!=t.firstChild;)t.removeChild(t.lastChild);t.firstChild.data=e}else{for(;i=t.firstChild;)t.removeChild(i);t.appendChild(Id(t).createTextNode(String(e)))}}function ig(t,e){e=Jd(e),t.qd.add(e),O(e,"mouseover",t.kh,s,t),O(e,"mouseout",t.Gf,s,t),O(e,"mousemove",t.jh,s,t),O(e,"focus",t.ih,s,t),O(e,"blur",t.Gf,s,t)}function og(t,e){var i=Rd(t.Bb);t.ve.x=e.clientX+i.x,t.ve.y=e.clientY+i.y}function qg(t,e){try{for(;e&&!t.qd.contains(e);)e=e.parentNode;return e}catch(i){return r}}function ng(t,e){if(0==e){var i=t.ve.h();return new sg(i)}return new tg(t.wa)}function rg(t){if(t.anchor)for(var e,i=0;e=jg[i];i++)Pd(e.l(),t.anchor)&&(e.vf=t,t.fg=e)}function lg(t){t.gb&&(ca.clearTimeout(t.gb),t.gb=n)}function mg(t){2==(t.gb?t.oa?4:1:t.oc?3:t.oa?2:0)&&(t.oc=Rf(ua(t.Ah,t,t.anchor),t.lh))}function kg(t){t.oc&&(ca.clearTimeout(t.oc),t.oc=n)}function sg(t,e){dg.call(this,t,e)}function tg(t){$f.call(this,t,3)}function ug(t,e,i,a){t==r&&m(Error("No valid parent element.")),(!y(e)||!y(i))&&m(Error("Invalid coordinates.")),!(a!=r&&a instanceof le||!m(Error("Invalid interactor."))),hg.call(this),this.c="caption",this.ma=t,this.md=e,this.nd=i,this.Kb=a,this.$a=r,this.Hb=[],t=".x-tooltip {\n  background: #C0C0FF;\n  color: #000000;\n",t+="  border: 1px solid infotext;\n",t+="  padding: 1px;\n",t+="  font-family: sans-serif;\n",t+="}",this.Hb=[t],Sb(a,fd,this.Ad.bind(this)),this.ze()}function vg(){Sf.call(this),this.c="renderer3D",this.Ac=this.Dc=this.zc=this.Cc=this.yc=this.Bc=this.fe=this.ge=r,this.k=[0,0,0],this.of=r,this.Qd=new rc,this.Gc=new rc,this.Jc=new rc,this.be=new rc,this.Wc=new rc,this.fd=new rc,this.gd=new rc,this.hd=new rc,this.F={PROGRESSBAR_ENABLED:q,PICKING_ENABLED:q,ORDERING_ENABLED:q,STATISTICS_ENABLED:s,INTERMEDIATE_RENDERING:s}}function wg(t,e){var i=e.i.Vc,i=H.d.Na(e.Wb.ia,i[0],i[1],i[2]),i=H.d.Na(t.t.p,i.x,i.y,i.b),i=H.f.Ab(t.t.ua,i);return Math.round(1e3*i)/1e3}function xg(){Sf.call(this),this.c="renderer2D",this.ff=this.Ud=this.df=this.Sd=this.tb=r,this.ed=this.Sb=this.Tb=this.he=this.ie=0,this.T=this.U=this.S=this.P=this.bf=-1}function yg(t){var e=Math.min(t.M/(t.ie*t.Tb),t.G/(t.he*t.Sb));t.t.p[14]=e}function zg(){W.call(this),this.c="fibers",Ea(this,new pc)}function Kg(){W.call(this),this.c="mesh",Ea(this,new pc)}var n=void 0,q=!0,r=null,s=!1,w,ca=this,pa="closure_uid_"+(1e9*Math.random()>>>0),qa=0,wa=Date.now||function(){return+new Date};xa.prototype={h:function(){return new xa(this.Ba,this.Ca,this.Da)},Cb:function(t){return this.Ba*t.x()+this.Ca*t.y()+this.Da*t.b()},Bd:function(t,e){return ya(this,za(Aa(t,this),e))},length:function(){return Math.sqrt(this.Cb(this))},Yb:function(t){return new xa(this.Ca*t.b()-this.Da*t.y(),this.Da*t.x()-this.Ba*t.b(),this.Ba*t.y()-this.Ca*t.x())},x:u("Ba"),y:u("Ca"),b:u("Da")};var H=H||{};H.Si=q,H.Ea=function(a){eval("X.DEV === undefined")||window.console.time(a)},H.qa=function(a){eval("X.DEV === undefined")||window.console.timeEnd(a)},window["X.counter"]=new function(){this.yg=0,this.Oi=function(){return this.yg++}};var Fa=window.pg;Function.prototype.bind||(Function.prototype.bind=function(t){function e(){return n.apply(this instanceof i?this:t||window,a.concat(r.call(arguments)))}function i(){}"function"!=typeof this&&m(new TypeError("Function.prototype.bind - what is trying to be bound is not callable"));var r=Array.prototype.slice,a=r.call(arguments,1),n=this;return i.prototype=this.prototype,e.prototype=new i,e});for(var Ga=0,Ha=["ms","moz","webkit","o"],Ia=0;Ia<Ha.length&&!window.requestAnimationFrame;++Ia)window.requestAnimationFrame=window[Ha[Ia]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[Ha[Ia]+"CancelAnimationFrame"]||window[Ha[Ia]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var e=Date.now(),i=Math.max(0,16-(e-Ga)),r=window.setTimeout(function(){t(e+i)},i);return Ga=e+i,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)}),"slice"in ArrayBuffer.prototype||(ArrayBuffer.prototype.slice=function(t,e){t===n&&m(Error("Not enough arguments."));var i=e||this.byteLength;0>t&&(t=this.byteLength+t),0>i&&(i=this.byteLength+i),t>i&&(i=t=0),0>t&&(t=0),0>i&&(i=0),t>this.byteLength&&(t=this.byteLength),i>this.byteLength&&(i=this.byteLength);for(var r=new ArrayBuffer(i-t),a=new Uint8Array(this),s=new Uint8Array(r),o=t,h=0;i>o;++o,++h)s[h]=a[o];return r}),D("$",Fa),D("Function.prototype.bind",Function.prototype.bind),D("window.requestAnimationFrame",window.requestAnimationFrame),D("window.cancelAnimationFrame",window.cancelAnimationFrame);var La=/&/g,Ma=/</g,Na=/>/g,Oa=/\"/g,Ka=/[&<>\"]/,Pa,Qa,Ra,Sa,Ta,Va,Wa;Sa=Ra=Qa=Pa=s;var Za;if(Za=Xa()){var $a=Ya();Pa=0==Za.indexOf("Opera"),Qa=!Pa&&-1!=Za.indexOf("MSIE"),Ra=!Pa&&-1!=Za.indexOf("WebKit"),Sa=!Pa&&!Ra&&"Gecko"==$a.product}var ab=Pa,L=Qa,bb=Sa,db=Ra,eb,fb=Ya();eb=fb&&fb.platform||"",Ta=-1!=eb.indexOf("Mac"),Va=-1!=eb.indexOf("Win"),Wa=-1!=eb.indexOf("Linux");var gb=!!Ya()&&-1!=(Ya().appVersion||"").indexOf("X11"),ib;t:{var jb="",kb;if(ab&&ca.opera)var lb=ca.opera.version,jb="function"==typeof lb?lb():lb;else if(bb?kb=/rv\:([^\);]+)(\)|;)/:L?kb=/MSIE\s+([^\);]+)(\)|;)/:db&&(kb=/WebKit\/(\S+)/),kb)var mb=kb.exec(Xa()),jb=mb?mb[1]:"";if(L){var nb=hb();if(nb>parseFloat(jb)){ib=String(nb);break t}}ib=jb}var ob={},qb=ca.document,rb=qb&&L?hb()||("CSS1Compat"==qb.compatMode?parseInt(ib,10):5):n,tb=0;w=ub.prototype,w.ac=s,w.defaultPrevented=s,w.Gd=q,w.stopPropagation=function(){this.ac=q},w.preventDefault=function(){this.defaultPrevented=q,this.Gd=s};var vb=0;w=wb.prototype,w.key=0,w.bc=s,w.od=s,w.ea=function(t,e,i,r,a,n){ma(t)?this.Pf=q:t&&t.handleEvent&&ma(t.handleEvent)?this.Pf=s:m(Error("Invalid listener argument")),this.Db=t,this.hg=e,this.src=i,this.type=r,this.capture=!!a,this.ye=n,this.od=s,this.key=++vb,this.bc=s},w.handleEvent=function(t){return this.Pf?this.Db.call(this.ye||this.src,t):this.Db.handleEvent.call(this.Db,t)};var yb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Ab=!L||L&&rb>=9,Bb=L&&!pb("9");!db||pb("528"),bb&&pb("1.9b")||L&&pb("8")||ab&&pb("9.5")||db&&pb("528"),bb&&!pb("8")||L&&pb("9");var Cb=Array.prototype,Db=Cb.indexOf?function(t,e,i){return Cb.indexOf.call(t,e,i)}:function(t,e,i){if(i=i==r?0:0>i?Math.max(0,t.length+i):i,la(t))return la(e)&&1==e.length?t.indexOf(e,i):-1;for(;i<t.length;i++)if(i in t&&t[i]===e)return i;return-1},Eb=Cb.forEach?function(t,e,i){Cb.forEach.call(t,e,i)}:function(t,e,i){for(var r=t.length,a=la(t)?t.split(""):t,n=0;r>n;n++)n in a&&e.call(i,a[n],n,t)},Fb=Cb.map?function(t,e,i){return Cb.map.call(t,e,i)}:function(t,e,i){for(var r=t.length,a=Array(r),n=la(t)?t.split(""):t,s=0;r>s;s++)s in n&&(a[s]=e.call(i,n[s],s,t));return a},Gb=Cb.some?function(t,e,i){return Cb.some.call(t,e,i)}:function(t,e,i){for(var r=t.length,a=la(t)?t.split(""):t,n=0;r>n;n++)if(n in a&&e.call(i,a[n],n,t))return q;return s};Jb[" "]=ea,F(Kb,ub),w=Kb.prototype,w.target=r,w.relatedTarget=r,w.offsetX=0,w.offsetY=0,w.clientX=0,w.clientY=0,w.screenX=0,w.screenY=0,w.button=0,w.keyCode=0,w.charCode=0,w.ctrlKey=s,w.altKey=s,w.shiftKey=s,w.metaKey=s,w.hi=s,w.Ma=r,w.ea=function(t,e){var i=this.type=t.type;ub.call(this,i),this.target=t.target||t.srcElement,this.currentTarget=e;var a=t.relatedTarget;if(a){if(bb){var o;t:{try{Jb(a.nodeName),o=q;break t}catch(h){}o=s}o||(a=r)}}else"mouseover"==i?a=t.fromElement:"mouseout"==i&&(a=t.toElement);this.relatedTarget=a,this.offsetX=db||t.offsetX!==n?t.offsetX:t.layerX,this.offsetY=db||t.offsetY!==n?t.offsetY:t.layerY,this.clientX=t.clientX!==n?t.clientX:t.pageX,this.clientY=t.clientY!==n?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0,this.button=t.button,this.keyCode=t.keyCode||0,this.charCode=t.charCode||("keypress"==i?t.keyCode:0),this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.hi=Ta?t.metaKey:t.ctrlKey,this.state=t.state,this.Ma=t,t.defaultPrevented&&this.preventDefault(),delete this.ac},w.stopPropagation=function(){Kb.s.stopPropagation.call(this),this.Ma.stopPropagation?this.Ma.stopPropagation():this.Ma.cancelBubble=q},w.preventDefault=function(){Kb.s.preventDefault.call(this);var t=this.Ma;if(t.preventDefault)t.preventDefault();else if(t.returnValue=s,Bb)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},w.dh=u("Ma");var Lb={},Nb={},Ob={},Pb={},$b=0;if(F(bc,sb),w=bc.prototype,w.Bf=q,w.Le=r,w.Pe=ba("Le"),w.addEventListener=function(t,e,i,r){O(this,t,e,i,r)},w.removeEventListener=function(t,e,i,r){Vb(this,t,e,i,r)},w.dispatchEvent=function(t){var e=t.type||t,i=Nb;if(e in i){if(la(t))t=new ub(t,this);else if(t instanceof ub)t.target=t.target||this;else{var r=t;t=new ub(e,this),zb(t,r)}var a,n,r=1,i=i[e],e=q in i;if(e){for(a=[],n=this;n;n=n.Le)a.push(n);n=i[q],n.pa=n.V;for(var o=a.length-1;!t.ac&&o>=0&&n.pa;o--)t.currentTarget=a[o],r&=Yb(n,a[o],t.type,q,t)&&t.Gd!=s}if(s in i)if(n=i[s],n.pa=n.V,e)for(o=0;!t.ac&&o<a.length&&n.pa;o++)t.currentTarget=a[o],r&=Yb(n,a[o],t.type,s,t)&&t.Gd!=s;else for(a=this;!t.ac&&a&&n.pa;a=a.Le)t.currentTarget=a,r&=Yb(n,a,t.type,s,t)&&t.Gd!=s;t=Boolean(r)}else t=q;return t},F(Q,bc),Q.prototype.__defineGetter__("classname",u("c")),Q.prototype.__defineGetter__("id",u("sa")),D("X.base",Q),cc.prototype={h:function(){return new cc(this.Aa.h(),this.ba.h())},$b:function(){this.ba=Ca(this.ba)}},dc.prototype={h:function(){return new dc(this.ba.h(),this.Uc)},$b:function(){this.ba=Ca(this.ba),this.Uc=-this.Uc}},ec.prototype={h:function(){var t=this.hb.map(function(t){return t.h()});return new ec(t,this.Nd)},$b:function(){this.hb.reverse().map(function(t){t.$b()}),this.za.$b()}},gc.prototype={h:function(){var t=new gc,e=this.za&&this.za.h();return t.za=e,e=this.da&&this.da.h(),t.da=e,e=this.ca&&this.ca.h(),t.ca=e,t.Ld(this.A.map(function(t){return t.h()})),t},D:function(){for(var t=0;t<this.A.length;t++)this.A[t].$b();this.za.$b(),this.da&&this.da.D(),this.ca&&this.ca.D(),t=this.da,this.da=this.ca,this.ca=t},Ld:ba("A")},lc.prototype={h:function(){var t=new lc;return t.Ld(this.A.map(function(t){return t.h()})),t},We:function(t){var e=new gc(this.h().A);return t=new gc(t.h().A),jc(e,t),jc(t,e),t.D(),jc(t,e),t.D(),hc(e,ic(t)),mc(ic(e))},la:function(t){var e=new gc(this.h().A);return t=new gc(t.h().A),e.D(),jc(e,t),jc(t,e),t.D(),jc(t,e),t.D(),hc(e,ic(t)),e.D(),mc(ic(e))},Ae:function(t){var e=new gc(this.h().A);return t=new gc(t.h().A),e.D(),jc(t,e),t.D(),jc(e,t),jc(t,e),hc(e,ic(t)),e.D(),mc(ic(e))},inverse:function(){var t=this.h();return t.A.map(function(t){t.$b()}),t},Ld:ba("A")},F(nc,Q),nc.prototype.add=function(t){t==r&&m(Error("Invalid object."));var e=window.JSON.stringify(t);return e in this.pb||(this.pb[e]=this.ke.length,this.ke.push(t)),this.pb[e]},nc.prototype.unique=u("ke"),F(oc,Q),pc.prototype.__defineSetter__("file",function(t){this.o=t==r||ha(t)&&0==t.length?r:ha(t)?1==t.length?new oc(t[0]):Fb(t,function(t){var e=new R;return e.o=new oc(t),e}):new oc(t)}),pc.prototype.__defineGetter__("file",function(){return this.o?ha(this.o)?this.o.map(function(t){return t.o.dd}):this.o.dd:""}),pc.prototype.__defineGetter__("filedata",u("Ib")),pc.prototype.__defineSetter__("filedata",function(t){if((t==r||ha(t)&&0==t.length)&&(this.Ib=r),ha(t))if(1==t.length)this.Ib=t[0];else{var e,i=this.o.length;for(e=0;i>e;e++)this.o[e].Ib=t[e]}else this.Ib=t}),w=rc.prototype,w.V=0,w.Ye=0,w.ud=u("V"),w.bb=function(){sc(this);for(var t=[],e=0;e<this.w.length;e++)t.push(this.J[this.w[e]]);return t},w.clear=function(){this.J={},this.Ye=this.V=this.w.length=0},w.remove=function(t){return uc(this.J,t)?(delete this.J[t],this.V--,this.Ye++,this.w.length>2*this.V&&sc(this),q):s},w.get=function(t,e){return uc(this.J,t)?this.J[t]:e},w.set=function(t,e){uc(this.J,t)||(this.V++,this.w.push(t),this.Ye++),this.J[t]=e},w.me=function(t){var e;if(t instanceof rc)sc(t),e=t.w.concat(),t=t.bb();else{e=[];var i,r=0;for(i in t)e[r++]=i;t=xb(t)}for(r=0;r<e.length;r++)this.set(e[r],t[r])},w.h=function(){return new rc(this)},w.kg=function(){for(var t=new rc,e=0;e<this.w.length;e++){var i=this.w[e];t.set(this.J[i],i)}return t},F(vc,Q),vc.prototype.add=function(t,e,i,r,a,n){!(y(t)&&y(i)&&y(r)&&y(a)&&y(n)||!m(Error("Invalid color table entry."))),this.pb.set(t,[e,i,r,a,n]),this.g=q},wc.prototype.h=function(){return new wc(this.x,this.y,this.b)},F(S,wc),w=S.prototype,w.h=function(){return new S(this.x,this.y,this.b)},w.eb=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.b*this.b)},w.scale=function(t){return this.x*=t,this.y*=t,this.b*=t,this},w.D=function(){return this.x=-this.x,this.y=-this.y,this.b=-this.b,this},w.normalize=function(){return this.scale(1/this.eb())},w.add=function(t){return this.x+=t.x,this.y+=t.y,this.b+=t.b,this},w.la=function(t){return this.x-=t.x,this.y-=t.y,this.b-=t.b,this},H.f=S,w=H.f.prototype,w.h=S.prototype.h,w.eb=S.prototype.eb,w.scale=S.prototype.scale,w.D=S.prototype.D,w.add=S.prototype.add,w.la=S.prototype.la,w.normalize=function(){var t=this.eb();return this.scale(0==t?0:1/t)},H.f.Cb=function(t,e){return t.x*e.x+t.y*e.y+t.b*e.b},H.f.Yb=zc,H.f.Ab=function(t,e){var i=t.x-e.x,r=t.y-e.y,a=t.b-e.b;return Math.sqrt(i*i+r*r+a*a)},H.f.Bd=function(t,e,i){return new S(t.x+i*(e.x-t.x),t.y+i*(e.y-t.y),t.b+i*(e.b-t.b))},H.f.prototype.__defineGetter__("xx",u("x")),H.f.prototype.__defineGetter__("yy",u("y")),H.f.prototype.__defineGetter__("zz",u("b")),D("X.vector",H.f),D("X.vector.prototype.clone",H.f.prototype.h),D("X.vector.prototype.magnitude",H.f.prototype.eb),D("X.vector.prototype.scale",H.f.prototype.scale),D("X.vector.prototype.invert",H.f.prototype.D),D("X.vector.prototype.normalize",H.f.prototype.normalize),D("X.vector.prototype.add",H.f.prototype.add),D("X.vector.prototype.subtract",H.f.prototype.la),D("X.vector.dot",H.f.Cb),D("X.vector.cross",H.f.Yb),D("X.vector.distance",H.f.Ab),D("X.vector.lerp",H.f.Bd),Ac.prototype.BYTES_PER_ELEMENT=8,Ac.prototype.set=function(t,e){e=e||0;for(var i=0;i<t.length&&e+i<this.length;i++)this[e+i]=t[i]},Ac.prototype.toString=Array.prototype.join,"undefined"==typeof Float64Array){try{Ac.BYTES_PER_ELEMENT=8}catch(Bc){}Ac.prototype.BYTES_PER_ELEMENT=Ac.prototype.BYTES_PER_ELEMENT,Ac.prototype.set=Ac.prototype.set,Ac.prototype.toString=Ac.prototype.toString,D("Float64Array",Ac)}Cc.prototype.BYTES_PER_ELEMENT=4,Cc.prototype.set=function(t,e){e=e||0;for(var i=0;i<t.length&&e+i<this.length;i++)this[e+i]=t[i]},Cc.prototype.toString=Array.prototype.join,"undefined"==typeof Float32Array&&(Cc.BYTES_PER_ELEMENT=4,Cc.prototype.BYTES_PER_ELEMENT=Cc.prototype.BYTES_PER_ELEMENT,Cc.prototype.set=Cc.prototype.set,Cc.prototype.toString=Cc.prototype.toString,D("Float32Array",Cc)),new Float64Array(3),new Float64Array(3),new Float64Array(4),new Float64Array(4),new Float64Array(4),new Float64Array(16),H.d={},H.d.Tf=function(t,e,i,r){i=i.la(e),i.normalize(),r=H.f.Yb(i,r),r.normalize();var a=H.f.Yb(r,i);return a.normalize(),i.D(),Gc(t,0,r.x,r.y,r.b),Gc(t,1,a.x,a.y,a.b),Gc(t,2,i.x,i.y,i.b),Jc(t,-e.x,-e.y,-e.b),t},H.d.Na=function(t,e,i,r){var a=1/(e*t[3]+i*t[7]+r*t[11]+t[15]);return new H.f((e*t[0]+i*t[4]+r*t[8]+t[12])*a,(e*t[1]+i*t[5]+r*t[9]+t[13])*a,(e*t[2]+i*t[6]+r*t[10]+t[14])*a)},H.d.Ji=function(t,e,i){var r=new Float32Array(4),a=new Float32Array(4);return Ic(t,e,r),Ic(t,i,a),Hc(t,e,a),Hc(t,i,r),t},H.d.Ii=function(t,e,i){var r=new Float32Array(4),a=new Float32Array(4);return Fc(t,e,r),Fc(t,i,a),Ec(t,e,a),Ec(t,i,r),t},H.d.Oc=function(){var t=new Float32Array(16);return t[0]=t[5]=t[10]=t[15]=1,t},H.d.h=function(t){var e=new Float32Array(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},H.d.kg=function(t,e){if(e==t){var i=t[1],r=t[2],a=t[3],n=t[6],s=t[7],o=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=i,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=n,e[11]=t[14],e[12]=a,e[13]=s,e[14]=o}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e},H.d.Sg=function(t){var e=t[0],i=t[1],r=t[2],a=t[3],n=t[4],s=t[5],o=t[6],h=t[7],c=t[8],f=t[9],l=t[10],d=t[11],u=t[12],p=t[13],b=t[14];return t=t[15],(e*s-i*n)*(l*t-d*b)-(e*o-r*n)*(f*t-d*p)+(e*h-a*n)*(f*b-l*p)+(i*o-r*s)*(c*t-d*u)-(i*h-a*s)*(c*b-l*u)+(r*h-a*o)*(c*p-f*u)},H.d.D=function(t,e){var i=t[0],r=t[1],a=t[2],n=t[3],o=t[4],h=t[5],c=t[6],f=t[7],l=t[8],d=t[9],u=t[10],p=t[11],b=t[12],g=t[13],y=t[14],w=t[15],m=i*h-r*o,v=i*c-a*o,_=i*f-n*o,E=r*c-a*h,x=r*f-n*h,T=a*f-n*c,S=l*g-d*b,D=l*y-u*b,A=l*w-p*b,F=d*y-u*g,R=d*w-p*g,M=u*w-p*y,I=m*M-v*R+_*F+E*A-x*D+T*S;return 0==I?s:(I=1/I,e[0]=(h*M-c*R+f*F)*I,e[1]=(-r*M+a*R-n*F)*I,e[2]=(g*T-y*x+w*E)*I,e[3]=(-d*T+u*x-p*E)*I,e[4]=(-o*M+c*A-f*D)*I,e[5]=(i*M-a*A+n*D)*I,e[6]=(-b*T+y*_-w*v)*I,e[7]=(l*T-u*_+p*v)*I,e[8]=(o*R-h*A+f*S)*I,e[9]=(-i*R+r*A-n*S)*I,e[10]=(b*x-g*_+w*m)*I,e[11]=(-l*x+d*_-p*m)*I,e[12]=(-o*F+h*D-c*S)*I,e[13]=(i*F-r*D+a*S)*I,e[14]=(-b*E+g*v-y*m)*I,e[15]=(l*E-d*v+u*m)*I,q)},H.d.Ce=function(t,e,i,r,a){var n=e/2;e=a-r;var s=Math.sin(n);return 0==e||0==s||0==i?t:(n=Math.cos(n)/s,Dc(t,n/i,0,0,0,0,n,0,0,0,0,-(a+r)/e,-1,0,0,-(2*r*a)/e,0))
},H.d.yh=function(t,e,i,r,a,n,s){return Dc(t,2*n/(i-e),0,0,0,0,2*n/(a-r),0,0,(i+e)/(i-e),(a+r)/(a-r),-(s+n)/(s-n),-1,0,0,-(2*s*n)/(s-n),0)},H.d.zh=function(t,e,i,r,a,n,s){return Dc(t,2/(i-e),0,0,0,0,2/(a-r),0,0,0,0,-2/(s-n),0,-(i+e)/(i-e),-(a+r)/(a-r),-(s+n)/(s-n),1)},H.d.multiply=function(t,e,i){var r=t[0],a=t[1],n=t[2],s=t[3],o=t[4],h=t[5],c=t[6],f=t[7],l=t[8],d=t[9],u=t[10],p=t[11],b=t[12],g=t[13],y=t[14];t=t[15];var w=e[0],m=e[1],v=e[2],_=e[3],E=e[4],x=e[5],T=e[6],S=e[7],D=e[8],A=e[9],F=e[10],R=e[11],M=e[12],I=e[13],C=e[14];return e=e[15],i[0]=r*w+o*m+l*v+b*_,i[1]=a*w+h*m+d*v+g*_,i[2]=n*w+c*m+u*v+y*_,i[3]=s*w+f*m+p*v+t*_,i[4]=r*E+o*x+l*T+b*S,i[5]=a*E+h*x+d*T+g*S,i[6]=n*E+c*x+u*T+y*S,i[7]=s*E+f*x+p*T+t*S,i[8]=r*D+o*A+l*F+b*R,i[9]=a*D+h*A+d*F+g*R,i[10]=n*D+c*A+u*F+y*R,i[11]=s*D+f*A+p*F+t*R,i[12]=r*M+o*I+l*C+b*e,i[13]=a*M+h*I+d*C+g*e,i[14]=n*M+c*I+u*C+y*e,i[15]=s*M+f*I+p*C+t*e,i},H.d.translate=Jc,H.d.scale=function(t,e,i,r){return Dc(t,t[0]*e,t[1]*e,t[2]*e,t[3]*e,t[4]*i,t[5]*i,t[6]*i,t[7]*i,t[8]*r,t[9]*r,t[10]*r,t[11]*r,t[12],t[13],t[14],t[15])},H.d.rotate=function(t,e,i,r,a){var n=t[0],s=t[1],o=t[2],h=t[3],c=t[4],f=t[5],l=t[6],d=t[7],u=t[8],p=t[9],b=t[10],g=t[11],y=Math.cos(e),w=Math.sin(e),m=1-y;e=i*i*m+y;var v=i*r*m+a*w,_=i*a*m-r*w,E=i*r*m-a*w,x=r*r*m+y,T=r*a*m+i*w,S=i*a*m+r*w;return i=r*a*m-i*w,a=a*a*m+y,Dc(t,n*e+c*v+u*_,s*e+f*v+p*_,o*e+l*v+b*_,h*e+d*v+g*_,n*E+c*x+u*T,s*E+f*x+p*T,o*E+l*x+b*T,h*E+d*x+g*T,n*S+c*i+u*a,s*S+f*i+p*a,o*S+l*i+b*a,h*S+d*i+g*a,t[12],t[13],t[14],t[15])},H.d.Hd=function(t,e){var i=t[4],r=t[5],a=t[6],n=t[7],s=t[8],o=t[9],h=t[10],c=t[11],f=Math.cos(e),l=Math.sin(e);return t[4]=i*f+s*l,t[5]=r*f+o*l,t[6]=a*f+h*l,t[7]=n*f+c*l,t[8]=i*-l+s*f,t[9]=r*-l+o*f,t[10]=a*-l+h*f,t[11]=n*-l+c*f,t},H.d.Id=function(t,e){var i=t[0],r=t[1],a=t[2],n=t[3],s=t[8],o=t[9],h=t[10],c=t[11],f=Math.cos(e),l=Math.sin(e);return t[0]=i*f+s*-l,t[1]=r*f+o*-l,t[2]=a*f+h*-l,t[3]=n*f+c*-l,t[8]=i*l+s*f,t[9]=r*l+o*f,t[10]=a*l+h*f,t[11]=n*l+c*f,t},H.d.Jd=function(t,e){var i=t[0],r=t[1],a=t[2],n=t[3],s=t[4],o=t[5],h=t[6],c=t[7],f=Math.cos(e),l=Math.sin(e);return t[0]=i*f+s*l,t[1]=r*f+o*l,t[2]=a*f+h*l,t[3]=n*f+c*l,t[4]=i*-l+s*f,t[5]=r*-l+o*f,t[6]=a*-l+h*f,t[7]=n*-l+c*f,t},D("X.matrix.identity",H.d.Oc),D("X.matrix.clone",H.d.h),D("X.matrix.transpose",H.d.kg),D("X.matrix.determinant",H.d.Sg),D("X.matrix.invert",H.d.D),D("X.matrix.multiply",H.d.multiply),D("X.matrix.multiplyByVector",H.d.Na),D("X.matrix.makePerspective",H.d.Ce),D("X.matrix.makeFrustum",H.d.yh),D("X.matrix.makeOrtho",H.d.zh),D("X.matrix.makeLookAt",H.d.Tf),D("X.matrix.translate",H.d.translate),D("X.matrix.scale",H.d.scale),D("X.matrix.rotate",H.d.rotate),D("X.matrix.rotateX",H.d.Hd),D("X.matrix.rotateY",H.d.Id),D("X.matrix.rotateZ",H.d.Jd),D("X.matrix.swapRows",H.d.Ji),D("X.matrix.swapCols",H.d.Ii),F(Kc,Q),Kc.prototype.__defineGetter__("matrix",u("ia")),Kc.prototype.__defineSetter__("matrix",function(t){!(t!=r&&t instanceof Float32Array||!m(Error("Invalid matrix."))),this.ia=t,this.n()}),w=Kc.prototype,w.Hd=function(t){(!y(t)||-360>t||t>360)&&m(Error("Invalid angle.")),H.d.Hd(this.ia,t*Math.PI/180),this.n()},w.Id=function(t){(!y(t)||-360>t||t>360)&&m(Error("Invalid angle.")),H.d.Id(this.ia,t*Math.PI/180),this.n()},w.Jd=function(t){(!y(t)||-360>t||t>360)&&m(Error("Invalid angle.")),H.d.Jd(this.ia,t*Math.PI/180),this.n()},w.Li=function(t){y(t)||m(Error("Invalid distance.")),H.d.translate(this.ia,t,0,0),this.n()},w.Mi=function(t){y(t)||m(Error("Invalid distance.")),H.d.translate(this.ia,0,t,0),this.n()},w.Ni=function(t){y(t)||m(Error("Invalid distance.")),H.d.translate(this.ia,0,0,t),this.n()},w.Zg=function(){Lc(this,0,0)},w.$g=function(){Lc(this,1,1)},w.ah=function(){Lc(this,2,2)},w.n=function(){this.g=q},D("X.transform",Kc),D("X.transform.prototype.rotateX",Kc.prototype.Hd),D("X.transform.prototype.rotateY",Kc.prototype.Id),D("X.transform.prototype.rotateZ",Kc.prototype.Jd),D("X.transform.prototype.translateX",Kc.prototype.Li),D("X.transform.prototype.translateY",Kc.prototype.Mi),D("X.transform.prototype.translateZ",Kc.prototype.Ni),D("X.transform.prototype.flipX",Kc.prototype.Zg),D("X.transform.prototype.flipY",Kc.prototype.$g),D("X.transform.prototype.flipZ",Kc.prototype.ah),D("X.transform.prototype.modified",Kc.prototype.n),F(Mc,Q),D("X.texture",Mc),F(U,Q),w=U.prototype,w.add=function(t,e,i){return this.Ob=Math.min(this.Ob,t),this.Lb=Math.max(this.Lb,t),this.Pb=Math.min(this.Pb,e),this.Mb=Math.max(this.Mb,e),this.Qb=Math.min(this.Qb,i),this.Nb=Math.max(this.Nb,i),this.Vc=[(this.Ob+this.Lb)/2,(this.Pb+this.Mb)/2,(this.Qb+this.Nb)/2],this.ef=s,this.g=q,this.L[this.B++]=t,this.L[this.B++]=e,this.L[this.B++]=i,this.B/3},w.fb=function(){if(this.B!=this.L.length){var t=new Float32Array(this.B);t.set(this.L.subarray(0,this.B)),this.L=t}},w.get=function(t){return t*=3,[this.L[t],this.L[t+1],this.L[t+2]]},w.remove=function(){m(Error("Not implemented."))},w.clear=function(){this.L=new Float32Array(this.L.length),this.g=q},U.prototype.__defineGetter__("count",function(){return this.fb(),this.L.length/3}),U.prototype.__defineGetter__("length",function(){return this.fb(),this.L.length}),D("X.triplets",U),D("X.triplets.prototype.add",U.prototype.add),D("X.triplets.prototype.resize",U.prototype.fb),D("X.triplets.prototype.get",U.prototype.get),D("X.triplets.prototype.remove",U.prototype.remove),D("X.triplets.prototype.clear",U.prototype.clear);var Oc="TRIANGLES";Nc.prototype.__defineSetter__("type",function(t){return this.ja=t}),Nc.prototype.__defineGetter__("type",u("ja")),Nc.prototype.__defineGetter__("texture",function(){return this.z||(this.z=new Mc),this.z}),Nc.prototype.__defineGetter__("transform",u("Wb")),Nc.prototype.__defineGetter__("points",u("i")),Nc.prototype.__defineSetter__("points",ba("i")),Nc.prototype.__defineGetter__("normals",u("j")),Nc.prototype.__defineSetter__("normals",ba("j")),Nc.prototype.__defineGetter__("colors",u("W")),Nc.prototype.__defineSetter__("colors",ba("W")),Nc.prototype.__defineGetter__("color",u("Gb")),Nc.prototype.__defineSetter__("color",function(t){(t==r||!ha(t)||3!=t.length)&&m(Error("Invalid color."));for(var e=this.e,i=e.length,a=0,a=0;i>a;a++)e[a].color=t;this.Gb=t,this.g=q}),Nc.prototype.__defineGetter__("opacity",u("Z")),Nc.prototype.__defineSetter__("opacity",function(t){(!y(t)||t>1||0>t)&&m(Error("Invalid opacity."));for(var e=this.e,i=e.length,r=0,r=0;i>r;r++)e[r].opacity=t;this.Z=t,this.g=q}),Nc.prototype.__defineGetter__("caption",u("fc")),Nc.prototype.__defineSetter__("caption",function(t){this.fc=t,this.g=q}),Nc.prototype.__defineGetter__("visible",u("Ja")),Nc.prototype.__defineSetter__("visible",function(t){for(var e=this.e,i=e.length,r=0,r=0;i>r;r++)e[r].visible=t;this.Ja=t,this.g=q}),Nc.prototype.__defineGetter__("pointsize",u("Ec")),Nc.prototype.__defineSetter__("pointsize",function(t){y(t)||m(Error("Invalid point size.")),this.Ec=t,this.g=q}),Nc.prototype.__defineGetter__("magicmode",u("xc")),Nc.prototype.__defineSetter__("magicmode",function(t){"boolean"!=typeof t&&m(Error("Invalid magic mode setting.")),this.xc=t,this.g=q}),Nc.prototype.__defineGetter__("linewidth",u("jc")),Nc.prototype.__defineSetter__("linewidth",function(t){y(t)||m(Error("Invalid line width.")),this.jc=t,this.g=q}),Pc.prototype.__defineGetter__("lowerThreshold",u("P")),Pc.prototype.__defineSetter__("lowerThreshold",ba("P")),Pc.prototype.__defineGetter__("upperThreshold",u("S")),Pc.prototype.__defineSetter__("upperThreshold",ba("S")),Pc.prototype.__defineGetter__("min",u("Ia")),Pc.prototype.__defineGetter__("max",u("Fa")),Pc.prototype.__defineGetter__("minColor",u("sb")),Pc.prototype.__defineSetter__("minColor",function(t){(t==r||!ha(t)||3!=t.length)&&m(Error("Invalid min. color.")),this.sb=t}),Pc.prototype.__defineGetter__("maxColor",u("qb")),Pc.prototype.__defineSetter__("maxColor",function(t){(t==r||!ha(t)||3!=t.length)&&m(Error("Invalid max. color.")),this.qb=t}),F(Qc,Q),Qc.prototype.__defineGetter__("array",u("v")),Qc.prototype.__defineSetter__("array",function(t){this.sc=this.v=t,this.g=q}),Qc.prototype.__defineGetter__("interpolation",u("Td")),Qc.prototype.__defineSetter__("interpolation",ba("Td")),D("X.scalars",Qc),F(W,Q),W.prototype.Xb=function(t){this.ja=t.ja,this.Wb=new Kc,this.Wb.ia=new Float32Array(t.Wb.ia),this.Gb=t.Gb.slice(),t.i&&(this.i=new U(t.i.length,t.i)),t.j&&(this.j=new U(t.j.length,t.j)),t.W&&(this.W=new U(t.W.length,t.W)),this.z=t.z,this.Vb=t.Vb,t.o&&(this.o=new oc(new String(t.o.dd).toString())),this.Z=t.Z,this.e.length=0;var e=t.e;if(e)for(var i=e.length,r=0,r=0;i>r;r++)this.e.push(new H[e[r].c](e[r]));this.Ja=t.Ja,this.Ec=t.Ec,this.jc=t.jc,t.fc&&(this.fc=new String(t.fc).toString()),this.xc=t.xc,this.kc=t.kc.slice(),this.g=q},W.prototype.__defineGetter__("colortable",function(){return this.$||(this.$=new vc),this.$}),W.prototype.__defineGetter__("scalars",function(){return this.u||(this.u=new Qc),this.u}),W.prototype.__defineGetter__("children",u("e")),W.prototype.n=function(){var t=new Rc;t.Y=this,this.dispatchEvent(t)},D("X.object",W),D("X.object.prototype.modified",W.prototype.n),Tc.prototype.We=function(t){!(t!=r&&(t instanceof lc||t instanceof W)||!m(Error("Invalid object.")));var e=t;return t instanceof W&&(e=Uc(e)),t=new W,Ea(t,new Tc),Vc(t,Uc(this).We(e)),t},Tc.prototype.la=function(t){!(t!=r&&(t instanceof lc||t instanceof W)||!m(Error("Invalid object.")));var e=t;return t instanceof W&&(e=Uc(e)),t=new W,Ea(t,new Tc),Vc(t,Uc(this).la(e)),t},Tc.prototype.Ae=function(t){!(t!=r&&(t instanceof lc||t instanceof W)||!m(Error("Invalid object.")));var e=t;return t instanceof W&&(e=Uc(e)),t=new W,Ea(t,new Tc),Vc(t,Uc(this).Ae(e)),t},Tc.prototype.inverse=function(){var t=new W;return Ea(t,new Tc),Vc(t,Uc(this).inverse()),t},D("X.constructable",Tc),D("X.constructable.prototype.intersect",Tc.prototype.Ae),D("X.constructable.prototype.inverse",Tc.prototype.inverse),D("X.constructable.prototype.subtract",Tc.prototype.la),D("X.constructable.prototype.union",Tc.prototype.We),F(Wc,ub);var Xc=ac("pan"),Yc=ac("rotate"),Zc=ac("zoom"),$c=ac("scroll");ac("render");var ad=ac("resetview"),bd=ac("windowlevel"),cd=ac("modified"),dd=ac("progress"),ed=ac("hover"),fd=ac("hover_end");F(gd,Wc),F(hd,Wc),F(id,Wc),F(jd,Wc),F(kd,Wc),F(ld,Wc),F(md,Wc),F(nd,Wc),F(Rc,Wc),F(od,Wc),F(pd,Q),pd.prototype.parse=function(){m(Error("The function parse() should be overloaded."))},F(xd,pd),xd.prototype.parse=function(t,e,i){H.Ea(this.c+".parse");var r=e.kc,a=r.length;0==a&&m(Error("No _pointIndices defined on the X.object.")),this.X=i;var n=[],o=Y(this,"uchar",i.byteLength),h=o.length,c=s,f=0;for(i=1;h>i;i++)10==o[i-1]?(f=i,c=q):c&&32==o[i]&&(n.push(parseInt(rd(o,f,i),10)),c=s);for(o=e.u.v?e.u.v:new Float32Array(a),h=n.length,i=0;h>i;i++)o[n[i]]=1;for(n=new Float32Array(3*a),i=h=0;a>i;i++)c=r[i],c>a&&m(Error("Could not find scalar for vertex.")),c=o[c],n[h++]=c,n[h++]=c,n[h++]=c;e.u.v=o,e.u.sc=n,e.u.g=q,H.qa(this.c+".parse"),r=new Rc,r.Y=e,r.q=t,this.dispatchEvent(r)},D("X.parserLBL",xd),D("X.parserLBL.prototype.parse",xd.prototype.parse),w=yd.prototype,w.h=function(){return new yd(this.x,this.y)},w.floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},w.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},w.translate=function(t,e){return t instanceof yd?(this.x+=t.x,this.y+=t.y):(this.x+=t,y(e)&&(this.y+=e)),this},w.scale=function(t,e){var i=y(e)?e:t;return this.x*=t,this.y*=i,this},w=Ad.prototype,w.h=function(){return new Ad(this.top,this.right,this.bottom,this.left)},w.contains=function(t){return this&&t?t instanceof Ad?t.left>=this.left&&t.right<=this.right&&t.top>=this.top&&t.bottom<=this.bottom:t.x>=this.left&&t.x<=this.right&&t.y>=this.top&&t.y<=this.bottom:s},w.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},w.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this},w.translate=function(t,e){return t instanceof yd?(this.left+=t.x,this.right+=t.x,this.top+=t.y,this.bottom+=t.y):(this.left+=t,this.right+=t,y(e)&&(this.top+=e,this.bottom+=e)),this},w.scale=function(t,e){var i=y(e)?e:t;return this.left*=t,this.right*=t,this.top*=i,this.bottom*=i,this},Bd.prototype.h=function(){return new Bd(this.width,this.height)},Bd.prototype.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},Bd.prototype.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this},Bd.prototype.scale=function(t,e){var i=y(e)?e:t;return this.width*=t,this.height*=i,this},w=Cd.prototype,w.h=function(){return new Cd(this.left,this.top,this.width,this.height)},w.Of=function(t){var e=Math.max(this.left,t.left),i=Math.min(this.left+this.width,t.left+t.width);if(i>=e){var r=Math.max(this.top,t.top);if(t=Math.min(this.top+this.height,t.top+t.height),t>=r)return this.left=e,this.top=r,this.width=i-e,this.height=t-r,q}return s},w.contains=function(t){return t instanceof Cd?this.left<=t.left&&this.left+this.width>=t.left+t.width&&this.top<=t.top&&this.top+this.height>=t.top+t.height:t.x>=this.left&&t.x<=this.left+this.width&&t.y>=this.top&&t.y<=this.top+this.height},w.floor=function(){return this.left=Math.floor(this.left),this.top=Math.floor(this.top),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},w.round=function(){return this.left=Math.round(this.left),this.top=Math.round(this.top),this.width=Math.round(this.width),this.height=Math.round(this.height),this},w.translate=function(t,e){return t instanceof yd?(this.left+=t.x,this.top+=t.y):(this.left+=t,y(e)&&(this.top+=e)),this},w.scale=function(t,e){var i=y(e)?e:t;return this.left*=t,this.width*=t,this.top*=i,this.height*=i,this};var Dd,Fd=!L||L&&rb>=9;!bb&&!L||L&&L&&rb>=9||bb&&pb("1.9.1"),L&&pb("9");var Kd={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};w=Hd.prototype,w.vd=Gd,w.l=function(t){return la(t)?this.N.getElementById(t):t},w.pg=Hd.prototype.l,w.lc=function(){return Md(this.N,arguments)},w.createElement=function(t){return this.N.createElement(t)},w.createTextNode=function(t){return this.N.createTextNode(String(t))},w.appendChild=function(t,e){t.appendChild(e)},w.contains=Pd;var fe={thin:2,medium:4,thick:6},he=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/;F(ie,bc),ie.prototype.handleEvent=function(t){var e=0,i=0,r=0;t=t.Ma,"mousewheel"==t.type?(i=1,(L||db&&(Va||pb("532.0")))&&(i=40),r=je(-t.wheelDelta,i),ga(t.wheelDeltaX)?(e=je(-t.wheelDeltaX,i),i=je(-t.wheelDeltaY,i)):i=r):(r=t.detail,r>100?r=3:-100>r&&(r=-3),ga(t.axis)&&t.axis===t.HORIZONTAL_AXIS?e=r:i=r),y(this.Uf)&&(e=Math.min(Math.max(e,-this.Uf),this.Uf)),y(this.Vf)&&(i=Math.min(Math.max(i,-this.Vf),this.Vf)),this.wh&&(e=-e),e=new ke(r,t,e,i),this.dispatchEvent(e)},F(ke,Kb),L||db&&pb("525"),F(le,Q),le.prototype.__defineGetter__("config",u("F")),le.prototype.__defineGetter__("leftButtonDown",u("Xa")),le.prototype.__defineGetter__("middleButtonDown",u("rb")),le.prototype.__defineGetter__("rightButtonDown",u("yb")),le.prototype.ea=function(){this.F.MOUSEWHEEL_ENABLED?(this.ae=new ie(this.ra),this.lf=O(this.ae,"mousewheel",this.Qc.bind(this))):(Wb(this.lf),this.ae=r),this.F.MOUSECLICKS_ENABLED?(this.gf=O(this.ra,"mousedown",this.Jh.bind(this)),this.kf=O(this.ra,"mouseup",this.Oh.bind(this))):(Wb(this.gf),Wb(this.kf)),this.ra.oncontextmenu=this.F.CONTEXTMENU_ENABLED?r:function(){return s},window.onkeydown=this.F.KEYBOARD_ENABLED?this.$f.bind(this):r,this.F.TOUCH_ENABLED?(this.F.TOUCH_BOUNCING_ENABLED||document.body.addEventListener("touchmove",function(t){t.preventDefault()},s),this.Eg=O(this.ra,"touchstart",this.bi.bind(this)),this.Dg=O(this.ra,"touchmove",this.$h.bind(this)),this.Cg=O(this.ra,"touchend",this.Wh.bind(this))):(Wb(this.Eg),Wb(this.Dg),Wb(this.Cg)),Wb(this.hf),Wb(this.jf),this.hf=O(this.ra,"mousemove",this.Lh.bind(this)),this.jf=O(this.ra,"mouseout",this.Mh.bind(this))},le.prototype.Jh=function(a){0==a.button?this.Xa=q:1==a.button?this.rb=q:2==a.button&&(this.yb=q),eval("this.onMouseDown("+this.Xa+","+this.rb+","+this.yb+")"),me(this),a.preventDefault()},le.prototype.Ih=aa(),le.prototype.Oh=function(a){0==a.button?this.Xa=s:1==a.button?this.rb=s:2==a.button&&(this.yb=s),eval("this.onMouseUp("+this.Xa+","+this.rb+","+this.yb+")"),me(this),a.preventDefault()},le.prototype.__defineGetter__("mousePosition",u("cd")),w=le.prototype,w.Nh=aa(),w.Mh=function(t){this.$d=s,this.F.KEYBOARD_ENABLED&&(window.onkeydown=r),this.yb=this.rb=this.Xa=s,me(this),this.Vd=new H.f(0,0,0),t.preventDefault()},w.Kh=aa(),w.bi=function(a){a.preventDefault(),a.ea(a.Ma.targetTouches[0],a.currentTarget),eval("this.onTouchStart("+a.clientX+","+a.clientY+")"),this.wc=new H.f(a.clientX,a.clientY,0),this.rf=setTimeout(this.Yh.bind(this,a),500)},w.ai=aa(),w.Yh=function(a){eval("this.onTouchHover("+a.clientX+","+a.clientY+")"),a=new jd,a.Qa=q,a.Ha=this instanceof ne,this.dispatchEvent(a),this.jd=q},w.Xh=aa(),w.Wh=function(a){a.preventDefault(),eval("this.onTouchEnd()"),oe(this)},w.Vh=aa(),w.$h=function(a){a.preventDefault(),this.jd||oe(this),this.touchmoveEvent=a=a.Ma,eval("this.onTouchMove(this['touchmoveEvent'])");var b=a.targetTouches;if(1==b.length){a=b[0];var c=[a.clientX,a.clientY];a=new H.f(c[0],c[1],0);var b=c[0]>3*this.ra.clientWidth/4,d=c[0]<this.ra.clientWidth/4,e=c[1]<this.ra.clientHeight/4,c=c[1]>3*this.ra.clientHeight/4,c=!(b||d||e||c),e=this.wc.la(a);this.wc=a.h(),this.jd?(a=new hd,5<e.x?e.x=1:-5>e.x&&(e.x=-1),5<e.y?e.y=1:-5>e.y&&(e.y=-1),a.K=e,this.dispatchEvent(a)):this instanceof pe&&(b||d)?(a=new kd,a.I=0>e.y,this.dispatchEvent(a)):(this instanceof ne||c)&&(e.scale(3),a=new id,a.K=e,this.dispatchEvent(a))}else 2==b.length&&(a=b[0],b=b[1],a=[a.clientX,a.clientY],b=[b.clientX,b.clientY],a=new H.f(a[0],a[1],0),b=new H.f(b[0],b[1],0),e=xc(a,b),b=e-this.Qf,this.Qf=e,this.wc.la(a),this.wc=a.h(),10<Math.abs(b)&&(a=new jd,a.Qa=b>0,a.Ha=this instanceof ne,this.dispatchEvent(a)))},w.Zh=aa(),w.Lh=function(a){this.mousemoveEvent=a,eval("this.onMouseMove(this['mousemoveEvent'])"),this.$d=q,this.F.KEYBOARD_ENABLED&&window.onkeydown==r&&(window.onkeydown=this.$f.bind(this)),a.preventDefault();var b=a.shiftKey;this.cd=[a.offsetX,a.offsetY];var c=new H.f(this.cd[0],this.cd[1],0);a=this.Vd.la(c),this.Vd=c.h(),this.F.HOVERING_ENABLED&&((0<Math.abs(a.x)||0<Math.abs(a.y)||this.rb||this.Xa||this.yb)&&me(this),this.Zc=setTimeout(function(){me(this);var t=new ld;t.md=c.x,t.nd=c.y,this.dispatchEvent(t),this.Zc=r}.bind(this),300)),2>Math.abs(a.x)&&(a.x=0),2>Math.abs(a.y)&&(a.y=0),0!=a.eb()&&(this.Xa&&!b?(b=new id,a.scale(3),b.K=a,this.dispatchEvent(b)):this.rb||this.Xa&&b?(b=new hd,5<a.x?a.x=5:-5>a.x&&(a.x=-5),5<a.y?a.y=5:-5>a.y&&(a.y=-5),b.K=a,this.dispatchEvent(b)):this.yb&&(b=new jd,b.Qa=0<a.y,b.Ha=s,this.dispatchEvent(b)))},w.Ph=aa(),w.Qc=function(a){this.mouseWheelEvent=a,eval("this.onMouseWheel(this['mouseWheelEvent'])"),me(this),a.preventDefault()},w.Gh=aa(),w.$f=function(a){if(this.$d){this.keyEvent=a,eval("this.onKey(this['keyEvent'])"),me(this);var b=a.altKey,c=a.ctrlKey,d=a.metaKey,e=a.shiftKey,f=a.keyCode;82!=f||b||c||d||e?f>=37&&40>=f&&(a.preventDefault(),e?a=new hd:b?a=new jd:(a=new id,this instanceof pe&&(a=new kd)),a&&(c=new H.f(0,0,0),37==f?(c.x=5,a.I=s,b&&(a.I=q,a.Qa=q,a.Ha=s)):39==f?(c.x=-5,a.I=q,b&&(a.Qa=s,a.Ha=s)):38==f?(c.y=5,a.I=q,b&&(a.Qa=q,a.Ha=q)):40==f&&(c.y=-5,a.I=s,b&&(a.Qa=s,a.Ha=q)),a.K=c,this.dispatchEvent(a))):(a.preventDefault(),a=new nd,this.dispatchEvent(a))}},D("X.interactor",le),D("X.interactor.prototype.init",le.prototype.ea),D("X.interactor.prototype.onMouseDown",le.prototype.Ih),D("X.interactor.prototype.onMouseUp",le.prototype.Nh),D("X.interactor.prototype.onMouseMove",le.prototype.Kh),D("X.interactor.prototype.onMouseWheel",le.prototype.Ph),D("X.interactor.prototype.onKey",le.prototype.Gh),D("X.interactor.prototype.onTouchStart",le.prototype.ai),D("X.interactor.prototype.onTouchMove",le.prototype.Zh),D("X.interactor.prototype.onTouchEnd",le.prototype.Vh),D("X.interactor.prototype.onTouchHover",le.prototype.Xh),F(pe,le),pe.prototype.Qc=function(t){pe.s.Qc.call(this,t);var e=new kd;t.nc==r&&(t.nc=0),e.I=0>t.nc,this.dispatchEvent(e)},F(qe,W),qe.prototype.Xb=function(t){this.k=t.k.slice(),this.hc=t.hc.slice(),this.I=t.I.slice(),this.M=t.M,this.G=t.G,this.ab=t.ab,this.m=t.m,this.Pa=t.Pa,this.ec=t.ec,this.zg=t.zg,qe.s.Xb.call(this,t)},qe.prototype.mc=function(){var t=new S(this.hc[0],this.hc[1],this.hc[2]),e=new S(this.I[0],this.I[1],this.I[2]),i=zc(e,t),r=new S(this.k[0],this.k[1],this.k[2]),a=new S(1,1,1);1==t.x?(a=new S(this.k[0],this.G/2,this.M/2),this.Vb=[0,0,1,0,0,1,0,1,1,1,1,0]):1==t.y?(a=new S(this.M/2,this.k[1],this.G/2),this.Vb=[0,0,0,1,1,0,1,0,1,1,0,1]):1==t.b&&(a=new S(this.M/2,this.G/2,this.k[2]));var n=yc(i.h().D(),e.h().D()),n=new S(n.x*a.x,n.y*a.y,n.b*a.b);n.add(r);var s=yc(i.h().D(),e),s=new S(s.x*a.x,s.y*a.y,s.b*a.b);s.add(r);var o=yc(i,e.h().D()),o=new S(o.x*a.x,o.y*a.y,o.b*a.b);o.add(r);var h=o,e=yc(i,e),e=new S(e.x*a.x,e.y*a.y,e.b*a.b);e.add(r),r=s,this.i=new U(18),this.j=new U(18),this.i.add(n.x,n.y,n.b),this.i.add(s.x,s.y,s.b),this.i.add(o.x,o.y,o.b),this.i.add(h.x,h.y,h.b),this.i.add(e.x,e.y,e.b),this.i.add(r.x,r.y,r.b),this.j.add(t.x,t.y,t.b),this.j.add(t.x,t.y,t.b),this.j.add(t.x,t.y,t.b),this.j.add(t.x,t.y,t.b),this.j.add(t.x,t.y,t.b),this.j.add(t.x,t.y,t.b),this.Pa&&(t=new W,t.i=new U(24),t.j=new U(24),t.i.add(n.x,n.y,n.b),t.i.add(s.x,s.y,s.b),t.i.add(s.x,s.y,s.b),t.i.add(e.x,e.y,e.b),t.i.add(e.x,e.y,e.b),t.i.add(o.x,o.y,o.b),t.i.add(o.x,o.y,o.b),t.i.add(n.x,n.y,n.b),t.j.add(0,0,0),t.j.add(0,0,0),t.j.add(0,0,0),t.j.add(0,0,0),t.j.add(0,0,0),t.j.add(0,0,0),t.j.add(0,0,0),t.j.add(0,0,0),t.Gb=[this.ec[0],this.ec[1],this.ec[2]],t.ja="LINES",t.jc=2,this.e.push(t))},D("X.slice",qe),F(R,W),R.prototype.Xb=function(t){window.console.log(t),this.k=t.k.slice(),this.aa=t.aa.slice(),this.H=t.H.slice(),this.kb=t.kb,this.tc=t.tc,this.lb=t.lb,this.uc=t.uc,this.mb=t.mb,this.vc=t.vc,this.Q=new W(t.Q),this.R=new W(t.R),this.Za=new W(t.Za),this.Ka=t.Ka,this.ld=t.ld,this.zb=t.zb,this.m=t.m,this.Pa=t.Pa,R.s.Xb.call(this,t)},R.prototype.mc=function(){this.e.length=0,this.Q.e.length=0,this.R.e.length=0,this.Za.e.length=0,this.e.push(this.Q),this.e.push(this.R),this.e.push(this.Za);for(var t=0,t=0;3>t;t++){for(var e=(this.aa[t]-1)/2,i=e,a=0,a=0;a<this.aa[t];a++){var n=-e*this.H[t]+a*this.H[t],o=[[this.k[0]+n,this.k[1],this.k[2]],[this.k[0],this.k[1]+n,this.k[2]],[this.k[0],this.k[1],this.k[2]+n]],n=this.e[t].e,h=0,c=0,f=[1,1,1],l=this.Pa;0==t?(h=this.aa[2]*this.H[2]-this.H[2],c=this.aa[1]*this.H[1]-this.H[1],f=[1,1,0]):1==t?(h=this.aa[0]*this.H[0]-this.H[0],c=this.aa[2]*this.H[2]-this.H[2],f=[1,0,0]):2==t&&(h=this.aa[0]*this.H[0]-this.H[0],c=this.aa[1]*this.H[1]-this.H[1],f=[0,1,0]),this.ab!=r&&(l=s);var d=new qe,u=d,o=o[t],p=[[1,0,0],[0,1,0],[0,0,1]][t],b=[[0,1,0],[0,0,-1],[0,1,0]][t];(o==r||!ha(o)||3!=o.length)&&m(Error("Invalid center.")),(p==r||!ha(p)||3!=p.length)&&m(Error("Invalid front direction.")),(b==r||!ha(b)||3!=b.length)&&m(Error("Invalid up direction.")),y(h)||m(Error("Invalid width.")),y(c)||m(Error("Invalid height."));var g=s;l!=r&&(g=l),l=[1,1,1],f!=r&&(l=f),u.k=o,u.hc=p,u.I=b,u.M=h,u.G=c,u.Pa=g,u.ec=l,u.mc(),d.ab=this,d.visible=a==Math.floor(i),n.push(d)}0==t?this.tc=this.kb=i:1==t?this.uc=this.lb=i:2==t&&(this.vc=this.mb=i)}this.g=q},R.prototype.n=function(t){if(t="undefined"!=typeof t?t:q,0<this.e.length)if(this.Ka!=this.ld&&(this.Ka?(this.e[0].e[parseInt(this.kb,10)].visible=s,this.e[1].e[parseInt(this.lb,10)].visible=s,this.e[2].e[parseInt(this.mb,10)].visible=s):this.e[this.zb].visible=s,this.g=q,this.ld=this.Ka),this.Ka)re(this,this.zb);else for(var e=0,e=0;3>e;e++){var i=this.e[e],r=0,a=0;0==e?(r=this.kb,a=this.tc,this.tc=this.kb):1==e?(r=this.lb,a=this.uc,this.uc=this.lb):2==e&&(r=this.mb,a=this.vc,this.vc=this.mb),i.e[parseInt(a,10)].visible=s,i=i.e[parseInt(r,10)],i.visible=q,i.Z=1}t&&R.s.n.call(this)},R.prototype.__defineGetter__("dimensions",u("aa")),R.prototype.__defineGetter__("volumeRendering",u("Ka")),R.prototype.__defineSetter__("volumeRendering",function(t){this.Ka=t,this.n(s)}),R.prototype.__defineSetter__("visible",ba("Ja")),R.prototype.__defineGetter__("center",u("k")),R.prototype.__defineSetter__("center",function(t){(t==r||!ha(t)||3!=t.length)&&m(Error("Invalid center.")),this.k=t}),R.prototype.__defineGetter__("image",u("jb")),R.prototype.__defineGetter__("labelmap",function(){return this.m||(this.m=new ue(this)),this.m}),R.prototype.__defineGetter__("indexX",u("kb")),R.prototype.__defineSetter__("indexX",function(t){y(t)&&t>=0&&t<this.Q.e.length&&(this.kb=t,this.n(s))}),R.prototype.__defineGetter__("indexY",u("lb")),R.prototype.__defineSetter__("indexY",function(t){y(t)&&t>=0&&t<this.R.e.length&&(this.lb=t,this.n(s))}),R.prototype.__defineGetter__("indexZ",u("mb")),R.prototype.__defineSetter__("indexZ",function(t){y(t)&&t>=0&&t<this.Za.e.length&&(this.mb=t,this.n(s))}),R.prototype.__defineGetter__("windowLow",u("U")),R.prototype.__defineSetter__("windowLow",ba("U")),R.prototype.__defineGetter__("windowHigh",u("T")),R.prototype.__defineSetter__("windowHigh",ba("T")),R.prototype.__defineGetter__("borders",u("Pa")),R.prototype.__defineSetter__("borders",ba("Pa")),R.prototype.__defineGetter__("reslicing",u("ee")),R.prototype.__defineSetter__("reslicing",ba("ee")),D("X.volume",R),D("X.volume.prototype.modified",R.prototype.n),F(ve,pd),ve.prototype.parse=function(t,e,i){H.Ea(this.c+".parse"),this.X=i;var r=e.i,a=e.j;if("solid"==rd(Y(this,"uchar",5))){e.i=r=new U(i.byteLength),e.j=a=new U(i.byteLength);var n=r,r=a,a=Y(this,"uchar",i.byteLength-5);i=a.length;var o,h=s,c=s,f=0;for(o=0;i>o;o++)if(10==a[o]){if(h||c){var l=rd(a,f,o).split(" "),c=parseFloat(l[0]),d=parseFloat(l[1]),l=parseFloat(l[2]);h?(r.add(c,d,l),r.add(c,d,l),r.add(c,d,l)):n.add(c,d,l),c=h=s}}else 32==a[o-1]&&(102==a[o]?(f=o+=13,h=q):118==a[o]&&(f=o+=7,c=q))}else for(this.B=80,n=Y(this,"uint"),e.i=r=new U(9*n),e.j=a=new U(9*n),i=i=0;n>i;i++)h=Y(this,"float",12),f=h[0],o=h[1],c=h[2],a.add(f,o,c),a.add(f,o,c),a.add(f,o,c),r.add(h[3],h[4],h[5]),r.add(h[6],h[7],h[8]),r.add(h[9],h[10],h[11]),this.B+=2;H.qa(this.c+".parse"),n=new Rc,n.Y=e,n.q=t,this.dispatchEvent(n)},D("X.parserSTL",ve),D("X.parserSTL.prototype.parse",ve.prototype.parse),F(we,pd),we.prototype.parse=function(t,e,i){if(i=this.Sc(i,e),i.Cd==i.Sa){var r,a=i.Se.length,s=0;for(r=0;a>r;r++){var o=i.Se[r];o!==n&&(o*=i.Wa,i.data.set(i.Mc.subarray(o,o+i.Wa),s*i.Wa),s++)}e.aa=[i.xa[0],i.xa[1],i.xa[2]],1/0==i.ka[2]&&(i.ka[2]=1),e.H=[i.ka[0],i.ka[1],i.ka[2]],r=qd(i.data),a=r[0],r=r[1],i.min=e.Ia=e.U=a,i.max=e.Fa=e.T=r,-1/0==e.P&&(e.P=a),1/0==e.S&&(e.S=r),e.mc(),e.jb=sd(this,e,i)}i=new Rc,i.Y=e,i.q=t,this.dispatchEvent(i)},we.prototype.Sc=function(t,e){this.X=t;var i=0;if(e.dc!=r){for(o=e.dc,h=Y(this,"ushort",this.X.byteLength-2*o.Wa),c=0,f=2;f>0;)if(a=h[c++],32==a)if(s=h[c++],19==s){for(c++,a=h[c++],s=0;a/2>s;s++)l=h[c++],d=255&l,l=(65280&l)>>8,i+=String.fromCharCode(d),i+=String.fromCharCode(l),i=parseInt(i,10);f--}else if(4161==s){c++;for(var a=h[c++],n="",s=0;a/2>s;s++)l=h[c++],d=255&l,l=(65280&l)>>8,n+=String.fromCharCode(d),n+=String.fromCharCode(l);o.ka=[o.ka[0],o.ka[1],Math.min(Math.abs(o.Sf-n),o.ka[2])],o.Sf=n,f--}o.xa[2]++}else{var o={rows:0,cols:0,ka:r,ne:0,Jg:0,Sa:1,Eh:1,Sf:r,Cd:0,Wa:0,Mc:r,Me:0,Se:[],data:r,min:1/0,max:-1/0};o.Sa=e.o.length,o.Sa==r&&(o.Sa=1);for(var h=Y(this,"ushort",this.X.byteLength),c=66,a=r,s=r,a=r,f=7;f>0;)if(a=h[c++],40==a)switch(s=h[c++],c++,a=h[c++],s){case 16:o.rows=h[c++],f--;break;case 17:o.cols=h[c++],f--;break;case 256:o.ne=h[c++],f--;break;case 257:o.Jg=h[c++],f--;break;case 2:o.Eh=h[c++],f--;break;case 48:for(n="",s=s=0;a/2>s;s++)var l=h[c++],d=255&l,l=(65280&l)>>8,n=n+String.fromCharCode(d),n=n+String.fromCharCode(l);n=n.split("\\"),o.ka=[+n[0],+n[1],1/0],f--}else if(32==a&&(s=h[c++],19==s)){for(c++,a=h[c++],s=0;a/2>s;s++)l=h[c++],d=255&l,l=(65280&l)>>8,i+=String.fromCharCode(d),i+=String.fromCharCode(l),i=parseInt(i,10);f--}switch(e.dc=o,o.xa=[o.cols,o.rows,1],o.Wa=o.rows*o.cols,o.ne){case 8:o.Mc=new Uint8Array(o.cols*o.rows*o.Sa),o.data=new Uint8Array(o.cols*o.rows*o.Sa);break;case 16:o.Mc=new Uint16Array(o.cols*o.rows*o.Sa),o.data=new Uint16Array(o.cols*o.rows*o.Sa);break;case 32:o.Mc=new Uint32Array(o.cols*o.rows*o.Sa),o.data=new Uint32Array(o.cols*o.rows*o.Sa)}}switch(this.B=this.X.byteLength-2*o.Wa,h=r,o.ne){case 8:h=Y(this,"uchar",o.Wa);break;case 16:h=Y(this,"ushort",o.Wa);break;case 32:h=Y(this,"uint",o.Wa)}return o.Se[i]=o.Me,o.Mc.set(h,o.Me*o.Wa),o.Me++,++o.Cd,o},D("X.parserDCM",we),D("X.parserDCM.prototype.parse",we.prototype.parse),F(xe,pd),xe.prototype.parse=function(t,e,i){H.Ea(this.c+".parse");var a=e.i,n=e.j,o=new Uint8Array(i),h="";e.i=a=new U(i.byteLength),e.j=n=new U(i.byteLength),i=0;for(var c=o.length;c>i;i+=32768)h+=rd(o,i,Math.min(i+32768,c));for(o=h.split("\n"),h=o.length,this.Hc=this.Ic=r,this.Jb=[],this.ta=Oc,this.ce=this.ub=this.ib=this.vb=s,i=0,c=h%8;c--;)ye(this,o[i]),i++;for(c=.125*h^0;c--;)ye(this,o[i]),i++,ye(this,o[i]),i++,ye(this,o[i]),i++,ye(this,o[i]),i++,ye(this,o[i]),i++,ye(this,o[i]),i++,ye(this,o[i]),i++,ye(this,o[i]),i++;i=this.Ic;var o=this.Hc,h=o.length,f=c=this.Jb.length;do{var l,d=this.Jb[c-f],u=d.length;for(l=0;u>l&&!("LINES"==this.ta&&l+1>=u);l++){var p=parseInt(d[l],10),b=i.get(p);a.add(b[0],b[1],b[2]);var g=p,y=b;"LINES"==this.ta?(g=parseInt(d[l+1],10),y=i.get(g),a.add(y[0],y[1],y[2])):"TRIANGLE_STRIPS"==this.ta&&(0==l||l==u-1)&&a.add(b[0],b[1],b[2]),h>p?(y=o.get(p),n.add(y[0],y[1],y[2]),"LINES"==this.ta?(g=o.get(g),n.add(g[0],g[1],g[2])):"TRIANGLE_STRIPS"==this.ta&&(0==l||l==u-1)&&n.add(y[0],y[1],y[2])):(g=new S(b[0],b[1],b[2]),g.normalize(),n.add(g.x,g.y,g.b),"LINES"==this.ta?(g=new S(y[0],y[1],y[2]),g.normalize(),n.add(g.x,g.y,g.b)):"TRIANGLE_STRIPS"==this.ta&&(0==l||l==u-1)&&n.add(g.x,g.y,g.b))}f--}while(f>0);e.ja=this.ta,H.qa(this.c+".parse"),a=new Rc,a.Y=e,a.q=t,this.dispatchEvent(a)},D("X.parserVTK",xe),D("X.parserVTK.prototype.parse",xe.prototype.parse),F(ze,pd),ze.prototype.parse=function(t,e,i){H.Ea(this.c+".parse"),this.X=i;var r=e.i,a=e.j;e.kc=[];var n=e.kc;i=0;var s;do s=Y(this,"uchar"),i++;while(200>i&&10!=s);Y(this,"uchar"),a=Y(this,"uint"),i=Y(this,"uint");var o=Y(this,"float",3*a);s=Y(this,"uint",3*i);var h=new Uint32Array(a),c=new Float32Array(9*i);e.i=r=new U(9*i),e.j=a=new U(9*i);var f;for(f=0;i>f;f++){var l=3*f,d=s[l],u=s[l+1],p=s[l+2];n.push(d),n.push(u),n.push(p),h[d]+=1,h[u]+=1,h[p]+=1;var l=3*d,b=3*u,g=3*p,y=o[l],w=o[l+1],m=o[l+2],u=o[b],p=o[b+1],d=o[b+2],v=o[g],_=o[g+1],E=o[g+2];r.add(y,w,m),r.add(u,p,d),r.add(v,_,E),y=new S(y,w,m),v=new S(v,_,E),u=new S(u,p,d).h().la(y),p=v.h().la(y),u=zc(u,p).normalize(),c[l]+=u.x,c[l+1]+=u.y,c[l+2]+=u.b,c[b]+=u.x,c[b+1]+=u.y,c[b+2]+=u.b,c[g]+=u.x,c[g+1]+=u.y,c[g+2]+=u.b}for(f=0;i>f;f++)l=3*f,d=s[l],u=s[l+1],p=s[l+2],l=3*d,b=3*u,g=3*p,n=new S(c[b],c[b+1],c[b+2]),o=new S(c[g],c[g+1],c[g+2]),l=new S(c[l],c[l+1],c[l+2]).scale(1/h[d]).normalize(),n=n.scale(1/h[u]).normalize(),o=o.scale(1/h[p]).normalize(),a.add(l.x,l.y,l.b),a.add(n.x,n.y,n.b),a.add(o.x,o.y,o.b);e.ja=Oc,H.qa(this.c+".parse"),i=new Rc,i.Y=e,i.q=t,this.dispatchEvent(i)},D("X.parserFSM",ze),D("X.parserFSM.prototype.parse",ze.prototype.parse);var Ae={re:function(t,e,i){return Ae.update(t,0,e,i)},update:function(t,e,i,r){var a=Ae.rg,n="number"==typeof i?i:i=0;for(r="number"==typeof r?r:t.length,e^=4294967295,n=7&r;n--;++i)e=e>>>8^a[255&(e^t[i])];for(n=r>>3;n--;i+=8)e=e>>>8^a[255&(e^t[i])],e=e>>>8^a[255&(e^t[i+1])],e=e>>>8^a[255&(e^t[i+2])],e=e>>>8^a[255&(e^t[i+3])],e=e>>>8^a[255&(e^t[i+4])],e=e>>>8^a[255&(e^t[i+5])],e=e>>>8^a[255&(e^t[i+6])],e=e>>>8^a[255&(e^t[i+7])];return(4294967295^e)>>>0
}};Ae.rg=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);var Ee=0,De=1;Ce.prototype.Nc=function(){for(;!this.uf;){var t=Fe(this,3);switch(1&t&&(this.uf=q),t>>>=1){case 0:var t=this.input,e=this.fa,i=this.ya,r=this.O,a=n,s=n,o=n,h=i.length,a=n;switch(this.La=this.Kc=0,a=t[e++],a===n&&m(Error("invalid uncompressed block header: LEN (first byte)")),s=a,a=t[e++],a===n&&m(Error("invalid uncompressed block header: LEN (second byte)")),s|=a<<8,a=t[e++],a===n&&m(Error("invalid uncompressed block header: NLEN (first byte)")),o=a,a=t[e++],a===n&&m(Error("invalid uncompressed block header: NLEN (second byte)")),o|=a<<8,s===~o&&m(Error("invalid uncompressed block header: length verify")),e+s>t.length&&m(Error("input buffer is broken")),this.qe){case Ee:for(;r+s>i.length;)a=h-r,s-=a,i.set(t.subarray(e,e+a),r),r+=a,e+=a,this.O=r,i=this.Zb(),r=this.O;break;case De:for(;r+s>i.length;)i=this.Zb({Ef:2});break;default:m(Error("invalid inflate mode"))}i.set(t.subarray(e,e+s),r),r+=s,this.fa=e+=s,this.O=r,this.ya=i;break;case 1:this.xe(Ge,He);break;case 2:Ie(this);break;default:m(Error("unknown BTYPE: "+t))}}return this.xf()};var Je=new Uint16Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ke=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258]),Le=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0]),Me=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577]),Ne=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Oe=new Uint8Array(288),Pe,Qe;for(Pe=0,Qe=Oe.length;Qe>Pe;++Pe)Oe[Pe]=143>=Pe?8:255>=Pe?9:279>=Pe?7:8;var Ge=Be(Oe),Re=new Uint8Array(30),Se,Te;for(Se=0,Te=Re.length;Te>Se;++Se)Re[Se]=5;var He=Be(Re);w=Ce.prototype,w.xe=function(t,e){var i=this.ya,r=this.O;this.Af=t;for(var a,n,s,o=i.length-258;256!==(a=Ue(this,t));)if(256>a)r>=o&&(this.O=r,i=this.Zb(),r=this.O),i[r++]=a;else for(a-=257,s=Ke[a],0<Le[a]&&(s+=Fe(this,Le[a])),a=Ue(this,e),n=Me[a],0<Ne[a]&&(n+=Fe(this,Ne[a])),r>=o&&(this.O=r,i=this.Zb(),r=this.O);s--;)i[r]=i[r++-n];for(;8<=this.La;)this.La-=8,this.fa--;this.O=r},w.Qg=function(t,e){var i=this.ya,r=this.O;this.Af=t;for(var a,n,s,o=i.length;256!==(a=Ue(this,t));)if(256>a)r>=o&&(i=this.Zb(),o=i.length),i[r++]=a;else for(a-=257,s=Ke[a],0<Le[a]&&(s+=Fe(this,Le[a])),a=Ue(this,e),n=Me[a],0<Ne[a]&&(n+=Fe(this,Ne[a])),r+s>o&&(i=this.Zb(),o=i.length);s--;)i[r]=i[r++-n];for(;8<=this.La;)this.La-=8,this.fa--;this.O=r},w.Zb=function(){var t=new Uint8Array(this.O-32768),e=this.O-32768,i=this.ya;return t.set(i.subarray(32768,t.length)),this.oe.push(t),this.Ve+=t.length,i.set(i.subarray(e,e+32768)),this.O=32768,i},w.Wg=function(t){var e=this.input.length/this.fa+1|0,i=this.input,r=this.ya;return t&&("number"==typeof t.Ef&&(e=t.Ef),"number"==typeof t.Fg&&(e+=t.Fg)),2>e?(t=(i.length-this.fa)/this.Af[2],t=258*(t/2)|0,t=t<r.length?r.length+t:r.length<<1):t=r.length*e,t=new Uint8Array(t),t.set(r),this.ya=t},w.xf=function(){var t,e,i,r,a,n=0,s=this.ya,o=this.oe,h=new Uint8Array(this.Ve+(this.O-32768));if(0===o.length)return this.ya.subarray(32768,this.O);for(e=0,i=o.length;i>e;++e)for(t=o[e],r=0,a=t.length;a>r;++r)h[n++]=t[r];for(e=32768,i=this.O;i>e;++e)h[n++]=s[e];return this.oe=[],this.buffer=h},w.Mg=function(){var t,e=this.O;return this.fb?(t=new Uint8Array(e),t.set(this.ya.subarray(0,e))):t=this.ya.subarray(0,e),this.buffer=t},new Uint8Array(256);var Ve;for(Ve=0;256>Ve;++Ve)for(var We=Ve,Xe=7,We=We>>>1;We;We>>>=1)--Xe;var Ye=[],Ze;for(Ze=0;288>Ze;Ze++)switch(q){case 143>=Ze:Ye.push([Ze+48,8]);break;case 255>=Ze:Ye.push([Ze-144+400,9]);break;case 279>=Ze:Ye.push([Ze-256+0,7]);break;case 287>=Ze:Ye.push([Ze-280+192,8]);break;default:m("invalid literal: "+Ze)}var bf=[],af,cf;for(af=3;258>=af;af++)cf=$e(),bf[af]=cf[2]<<24|cf[1]<<16|cf[0];new Uint32Array(bf),ef.prototype.Nc=function(){for(var t=this.input.length;this.fa<t;){var e=new df,i=n,r=n,a=n,s=i=a=n,o=n,i=i=n,h=this.input,r=this.fa;switch(e.Kf=h[r++],e.Lf=h[r++],(31!==e.Kf||139!==e.Lf)&&m(Error("invalid file signature:",e.Kf,e.Lf)),e.wf=h[r++],e.wf){case 8:break;default:m(Error("unknown compression method: "+e.wf))}if(e.td=h[r++],i=h[r++]|h[r++]<<8|h[r++]<<16|h[r++]<<24,e.Pj=new Date(1e3*i),e.Sj=h[r++],e.Qj=h[r++],0<(4&e.td)&&(e.Pi=h[r++]|h[r++]<<8,r+=e.Pi),0<(8&e.td)){for(o=[],s=0;0<(i=h[r++]);)o[s++]=String.fromCharCode(i);e.name=o.join("")}if(0<(16&e.td)){for(o=[],s=0;0<(i=h[r++]);)o[s++]=String.fromCharCode(i);e.comment=o.join("")}0<(2&e.td)&&(e.Ng=65535&Ae.re(h,0,r),e.Ng!==(h[r++]|h[r++]<<8)&&m(Error("invalid header crc16"))),i=h[h.length-4]|h[h.length-3]<<8|h[h.length-2]<<16|h[h.length-1]<<24,h.length-r-4-4<512*i&&(a=i),r=new Ce(h,{index:r,bufferSize:a}),e.data=a=r.Nc(),r=r.fa,e.Ij=i=(h[r++]|h[r++]<<8|h[r++]<<16|h[r++]<<24)>>>0,Ae.re(a)!==i&&m(Error("invalid CRC-32 checksum: 0x"+Ae.re(a).toString(16)+" / 0x"+i.toString(16))),e.Mj=i=(h[r++]|h[r++]<<8|h[r++]<<16|h[r++]<<24)>>>0,(4294967295&a.length)!==i&&m(Error("invalid input size: "+(4294967295&a.length)+" / "+i)),this.member.push(e),this.fa=r}for(t=this.member,e=a=r=0,h=t.length;h>e;++e)a+=t[e].data.length;for(a=new Uint8Array(a),e=0;h>e;++e)a.set(t[e].data,r),r+=t[e].data.length;return a},F(ff,pd),ff.prototype.parse=function(t,e,i,r){H.Ea(this.c+".parse"),r&&(i=new ef(new Uint8Array(i)).Nc(),i=i.buffer),r=this.Sc(i),e.aa=[r.Ee,r.Fe,r.Ge],e.H=r.lg,i=r.min;var a=r.max;e.Ia=e.U=i,e.Fa=e.T=a,-1/0==e.P&&(e.P=i),1/0==e.S&&(e.S=a),e.mc(),H.qa(this.c+".parse"),e.jb=sd(this,e,r),r=new Rc,r.Y=e,r.q=t,this.dispatchEvent(r)},ff.prototype.Sc=function(t){if(this.X=t,t={version:0,ug:0,sg:0,bh:0,tg:0,Ee:0,Fe:0,Ge:0,Dh:0,type:0,Ug:0,ig:0,Ui:r,qg:r,lg:r,data:r,min:1/0,max:-1/0},t.version=Y(this,"uint"),t.Ee=Y(this,"uint"),t.Fe=Y(this,"uint"),t.Ge=Y(this,"uint"),t.Dh=Y(this,"uint"),t.type=Y(this,"uint"),t.Ug=Y(this,"uint"),t.ig=Y(this,"ushort"),0<t.ig){t.lg=Y(this,"float",3);var e=[];e.push(Y(this,"float",3)),e.push(Y(this,"float",3)),e.push(Y(this,"float",3)),e.push(Y(this,"float",3)),t.qg=e}switch(this.B=284,e=t.Ee*t.Fe*t.Ge,t.type){case 0:t.data=Y(this,"uchar",e);break;case 1:t.data=Y(this,"uint",e);break;case 3:t.data=Y(this,"float",e);break;case 4:t.data=Y(this,"ushort",e);break;default:m(Error("Unsupported MGH/MGZ data type: "+t.type))}return e=qd(t.data),t.min=e[0],t.max=e[1],this.B+16<this.X.byteLength&&(t.ug=Y(this,"float"),t.bh=Y(this,"float"),t.sg=Y(this,"float"),t.tg=Y(this,"float")),t},D("X.parserMGZ",ff),D("X.parserMGZ.prototype.parse",ff.prototype.parse),F(gf,pd),gf.prototype.parse=function(t,e,i){H.Ea(this.c+".parse");var r=e.kc;0==r.length&&m(Error("No _pointIndices defined on the X.object.")),this.X=i,this.B=3;var a=Y(this,"uint");Y(this,"uint"),Y(this,"uint");var n=0,s=0,o=0,h=0,c=0,f=0,l=0,d=0,u=0,p=0,b=0;i=Array(2);var g,y=Array(2),w=Y(this,"float",a);for(g=0;a>g;g++){var v=w[g];0==g&&(i[0]=y[0]=v),v>=0?(n++,h+=v):(s++,o+=v),u+=v,b++,y[0]=Math.max(v,y[0]),i[0]=Math.min(v,i[0]),w[g]=v}for(0!=n&&(c=h/n),0!=s&&(f=o/s),0!=b&&(p=u/b),b=u=o=h=0;a>b;b++)v=w[b],g=0,v>=0?(g=Math.pow(v-c,2),h+=g):(g=Math.pow(v-f,2),o+=g),g=Math.pow(v-p,2),u+=g;for(n>1&&(l=Math.sqrt(h/(n-1))),s>1&&(d=Math.sqrt(o/(s-1))),i[1]=f-2.5*d,y[1]=c+2.5*l,a=r.length,n=new Float32Array(3*a),b=0;a>b;b++)s=w[r[b]],o=3*b,n[o]=s,n[o+1]=s,n[o+2]=s;e.u.Ia=i[1],e.u.Fa=y[1],-1/0==e.u.P&&(e.u.P=i[1]),1/0==e.u.S&&(e.u.S=y[1]),e.u.v=w,e.u.sc=n,e.u.g=q,H.qa(this.c+".parse"),r=new Rc,r.Y=e,r.q=t,this.dispatchEvent(r)},D("X.parserCRV",gf),D("X.parserCRV.prototype.parse",gf.prototype.parse),F(hf,pd),hf.prototype.parse=function(t,e,i){H.Ea(this.c+".parse");var a=e.i,n=e.j,o=e.W;this.X=i,Y(this,"uchar",6),Y(this,"ushort",3);var h=Y(this,"float",3);Y(this,"float",3);var c=Y(this,"ushort");Y(this,"uchar",200),Y(this,"ushort"),Y(this,"uchar",200),Y(this,"float",16),Y(this,"uchar",444),Y(this,"uchar",4),Y(this,"uchar",4),Y(this,"float",6),Y(this,"uchar",2),Y(this,"uchar"),Y(this,"uchar"),Y(this,"uchar"),Y(this,"uchar"),Y(this,"uchar"),Y(this,"uchar");var f=Y(this,"uint");Y(this,"uint");var l=Y(this,"uint"),d=[],u=[];i=1/0;var p=-1/0,b=r,g=r,y=r,w=r,n=a=r,m=Y(this,"uint",(this.X.byteLength-1e3)/4);this.B=l;for(var v=Y(this,"float",(this.X.byteLength-1e3)/4),_=0,l=o=0;f>l;l++){for(var E=m[_],x=new U(3*E),T=0,S=0;E>S;S++){var D=v[_+3*S+S*c+1],A=v[_+3*S+S*c+2],F=v[_+3*S+S*c+3],D=D/h[0],A=A/h[1],F=F/h[2];if(x.add(D,A,F),S>0)var R=x.get(S-1),T=T+Math.sqrt(Math.pow(D-R[0],2)+Math.pow(A-R[1],2)+Math.pow(F-R[2],2));E-1>S&&(o+=6)}_+=3*E+E*c+1,S=x.Ob,E=x.Lb,D=x.Pb,A=x.Mb,F=x.Qb,R=x.Nb,(!b||b>S)&&(b=S),(!g||E>g)&&(g=E),(!y||y>D)&&(y=D),(!w||A>w)&&(w=A),(!a||a>F)&&(a=F),(!n||R>n)&&(n=R),d.push(x),u.push(T)}for(h=(b+g)/2,y=(y+w)/2,c=(a+n)/2,w=new Float32Array(o),e.i=a=new U(o),e.j=n=new U(o),e.W=o=new U(o),l=b=0;f>l;l++)for(g=d[l],m=g.count,T=u[l],i=Math.min(i,T),p=Math.max(p,T),S=0;m-1>S;S++){_=g.get(S),v=g.get(S+1),a.add(_[0],_[1],_[2]),a.add(v[0],v[1],v[2]);var x=_[0]-h,E=_[1]-y,D=_[2]-c,A=Math.sqrt(x*x+E*E+D*D),F=v[0]-h,R=v[1]-y,M=v[2]-c,I=Math.sqrt(F*F+R*R+M*M);n.add(x/A,E/A,D/A),n.add(F/I,R/I,M/I),v=[Math.abs(v[0]-_[0]),Math.abs(v[1]-_[1]),Math.abs(v[2]-_[2])],_=Math.sqrt(v[0]*v[0]+v[1]*v[1]+v[2]*v[2]),v[0]/=_,v[1]/=_,v[2]/=_,o.add(v[0],v[1],v[2]),o.add(v[0],v[1],v[2]),w[b++]=T,w[b++]=T,w[b++]=T,w[b++]=T,w[b++]=T,w[b++]=T}e.ja="LINES",f=new Qc,f.Ia=i,f.Fa=p,f.P=i,f.S=p,f.sc=w,f.qf=s,f.g=q,e.u=f,H.qa(this.c+".parse"),i=new Rc,i.Y=e,i.q=t,this.dispatchEvent(i)},D("X.parserTRK",hf),D("X.parserTRK.prototype.parse",hf.prototype.parse),F(jf,pd),jf.prototype.parse=function(t,e,i,r){i instanceof ArrayBuffer||m(Error());for(var a=new Uint8Array(i),n=a.length,s=Array(n);n--;)s[n]=String.fromCharCode(a[n]);a=window.btoa(s.join("")),n=new Image,Sb(n,"load",this.gi.bind(this,n,t,e,i,r)),n.src="data:image/"+r+";base64,"+a},jf.prototype.gi=function(t,e,i){e.jb=t,e.va=r,t=new Rc,t.Y=i,t.q=e,this.dispatchEvent(t)},D("X.parserIMAGE",jf),D("X.parserIMAGE.prototype.parse",jf.prototype.parse),F(kf,pd),kf.prototype.parse=function(t,e,i){H.Ea(this.c+".parse"),this.X=i,i=Y(this,"uchar",i.byteLength);var r,a=i.length,n=0;for(r=0;a>r;r++)if(10==i[r]){var s=rd(i,n,r),n=r+1,s=s.replace(/^\s+|\s+$/g,"");"#"!=s[0]&&(s=s.split(" "),s=s.filter(function(t){return""!=t}),6==s.length&&(s[2]=parseInt(s[2],10)/255,s[3]=parseInt(s[3],10)/255,s[4]=parseInt(s[4],10)/255,s[5]=parseInt(s[5],10)/255,t.add(parseInt(s[0],10),s[1],s[2],s[3],s[4],s[5],10)))}H.qa(this.c+".parse"),i=new Rc,i.Y=e,i.q=t,this.dispatchEvent(i)},D("X.parserLUT",kf),D("X.parserLUT.prototype.parse",kf.prototype.parse),F(lf,pd),lf.prototype.parse=function(t,e,i){H.Ea(this.c+".parse"),this.X=i,i=Y(this,"uchar",i.byteLength);var a,s=i.length,o=r,h=0;for(a=1;s>a;a++)if(10==i[a-1]&&10==i[a]){o=rd(i,0,a-2),h=a+1;break}var c,f,l,d,s=o.split(/\r?\n/),o=0;for(a=s.length;a>o;o++)c=s[o],c.match(/NRRD\d+/)?this.vh=q:!c.match(/^#/)&&(d=c.match(/(.*):(.*)/))&&(f=d[1].trim(),c=d[2].trim(),(l=this.Yg[f])?l.call(this,c):this[f]=c);if(this.vh||m(Error("Not an NRRD file")),"raw"!==this.encoding&&"gzip"!==this.encoding&&"gz"!==this.encoding&&m(Error("Only raw or gz/gzip encoding is allowed")),!this.Ga&&(this.Ga=[new S(1,0,0),new S(0,1,0),new S(0,0,1)],this.Te))for(s=[],d=0;2>=d;d++)s.push(isNaN(this.Te[d])?n:this.Ga[d].scale(this.Te[d]));h=i.subarray(h),("gzip"==this.encoding||"gz"==this.encoding)&&(h=new ef(new Uint8Array(h)).Nc()),h=h.buffer,i={data:r,min:1/0,max:-1/0},i.data=new this.Fb(h),d=qd(i.data),h=i.min=d[0],d=i.max=d[1],e.aa=[this.Qe[0],this.Qe[1],this.Qe[2]],s=new S(this.Ga[0][0],this.Ga[0][1],this.Ga[0][2]).eb(),o=new S(this.Ga[1][0],this.Ga[1][1],this.Ga[1][2]).eb(),a=new S(this.Ga[2][0],this.Ga[2][1],this.Ga[2][2]).eb(),e.H=[s,o,a],e.Ia=e.U=h,e.Fa=e.T=d,-1/0==e.P&&(e.P=h),1/0==e.S&&(e.S=d),e.mc(),H.qa(this.c+".parse"),e.jb=sd(this,e,i),i=new Rc,i.Y=e,i.q=t,this.dispatchEvent(i)},lf.prototype.Yg={type:function(t){switch(t){case"uchar":case"unsigned char":case"uint8":case"uint8_t":this.Fb=Uint8Array;break;case"signed char":case"int8":case"int8_t":this.Fb=Int8Array;break;case"short":case"short int":case"signed short":case"signed short int":case"int16":case"int16_t":this.Fb=Int16Array;break;case"ushort":case"unsigned short":case"unsigned short int":case"uint16":case"uint16_t":this.Fb=Uint16Array;break;case"int":case"signed int":case"int32":case"int32_t":this.Fb=Int32Array;break;case"uint":case"unsigned int":case"uint32":case"uint32_t":this.Fb=Uint32Array;break;case"float":this.Fb=Float32Array;break;default:m(Error("Unsupported NRRD data type: "+t))}return this.type=t},endian:function(t){return this.Lj=t},encoding:function(t){return this.encoding=t},dimension:function(t){return this.xa=parseInt(t,10)},sizes:function(t){var e,i,r,a;for(r=t.split(/\s+/),a=[],e=0,i=r.length;i>e;e++)t=r[e],a.push(parseInt(t,10));return this.Qe=a},"space directions":function(t){var e,i;t=t.match(/\(.*?\)/g);var r,a,n;for(n=[],r=0,a=t.length;a>r;r++)i=t[r],n.push(function(){var t,r,a,n;for(a=i.slice(1,-1).split(/,/),n=[],t=0,r=a.length;r>t;t++)e=a[t],n.push(parseFloat(e));return n}());return this.Ga=n},spacings:function(t){var e;e=t.split(/\s+/);var i,r,a;for(a=[],i=0,r=e.length;r>i;i++)t=e[i],a.push(parseFloat(t));return this.Te=a}},D("X.parserNRRD",lf),D("X.parserNRRD.prototype.parse",lf.prototype.parse),F(mf,pd),mf.prototype.parse=function(t,e,i){H.Ea(this.c+".parse");var r=i,a=-1,a="undefined"==typeof DataView?new Int32Array(i,0,1)[0]:new DataView(i,0).getInt32(0,q);348!=a&&(r=new ef(new Uint8Array(r)).Nc(),r=r.buffer),i=this.Sc(r),e.aa=[i.xa[1],i.xa[2],i.xa[3]],e.H=[i.ka[1],i.ka[2],i.ka[3]],r=i.min,a=i.max,e.Ia=e.U=r,e.Fa=e.T=a,-1/0==e.P&&(e.P=r),1/0==e.S&&(e.S=a),e.mc(),H.qa(this.c+".parse"),e.jb=sd(this,e,i),i=new Rc,i.Y=e,i.q=t,this.dispatchEvent(i)},mf.prototype.Sc=function(t){this.X=t,t={zi:0,Og:r,Pg:r,Xg:0,wi:0,qi:0,Tg:r,xa:r,rh:0,sh:0,th:0,ph:0,we:0,Ig:0,Di:0,ka:r,mg:0,vi:0,ui:0,Ci:0,Ai:r,Qi:r,Kg:0,Lg:0,Bi:0,Ki:0,eh:0,fh:0,Rg:r,Hg:r,ji:0,xi:0,ni:0,oi:0,pi:0,ki:0,li:0,mi:0,Ei:r,Fi:r,Gi:r,qh:r,xh:r,data:r,min:1/0,max:-1/0},t.zi=Y(this,"uint"),t.Og=Y(this,"uchar",10),t.Pg=Y(this,"uchar",18),t.Xg=Y(this,"uint"),t.wi=Y(this,"ushort"),t.qi=Y(this,"uchar"),t.Tg=Y(this,"uchar"),t.xa=Y(this,"ushort",8),t.rh=Y(this,"float"),t.sh=Y(this,"float"),t.th=Y(this,"float"),t.ph=Y(this,"ushort"),t.we=Y(this,"ushort"),t.Ig=Y(this,"ushort"),t.Di=Y(this,"ushort"),t.ka=Y(this,"float",8),t.mg=Y(this,"float"),t.vi=Y(this,"float"),t.ui=Y(this,"float"),t.Ci=Y(this,"ushort"),t.Ai=Y(this,"uchar"),t.Qi=Y(this,"uchar"),t.Kg=Y(this,"float"),t.Lg=Y(this,"float"),t.Bi=Y(this,"float"),t.Ki=Y(this,"float"),t.eh=Y(this,"uint",1),t.fh=Y(this,"uint",1),t.Rg=Y(this,"uchar",80),t.Hg=Y(this,"uchar",24),t.ji=Y(this,"ushort"),t.xi=Y(this,"ushort"),t.ni=Y(this,"float"),t.oi=Y(this,"float"),t.pi=Y(this,"float"),t.ki=Y(this,"float"),t.li=Y(this,"float"),t.mi=Y(this,"float"),t.Ei=Y(this,"float",4),t.Fi=Y(this,"float",4),t.Gi=Y(this,"float",4),t.qh=Y(this,"uchar",16),t.xh=Y(this,"uchar",4),this.B=parseInt(t.mg,10);var e=t.xa[1]*t.xa[2]*t.xa[3];switch(t.we){case 2:t.data=Y(this,"uchar",e);break;case 4:t.data=Y(this,"sshort",e);break;case 8:t.data=Y(this,"sint",e);break;case 16:t.data=Y(this,"float",e);break;case 256:t.data=Y(this,"schar",e);break;case 512:t.data=Y(this,"ushort",e);break;case 768:t.data=Y(this,"uint",e);break;default:m(Error("Unsupported NII data type: "+t.we))}return e=qd(t.data),t.min=e[0],t.max=e[1],t},D("X.parserNII",mf),D("X.parserNII.prototype.parse",mf.prototype.parse),F(nf,pd),nf.prototype.parse=function(t,e,i){H.Ea(this.c+".parse"),this.X=i,i=i.byteLength;var r=Y(this,"uchar",i),a=[];e.i=new U(i),e.j=new U(i);var n,s=e.i,o=e.j,h=0;for(n=0;i>n;++n)if(10==r[n]){var c=rd(r,h,n).replace(/\s{2,}/g," ").split(" ");if("v"==c[0])a.push([parseFloat(c[1]),parseFloat(c[2]),parseFloat(c[3])]);else if("f"==c[0]){var f=a[parseInt(c[1],10)-1],h=a[parseInt(c[2],10)-1],c=a[parseInt(c[3],10)-1];s.add(f[0],f[1],f[2]),s.add(h[0],h[1],h[2]),s.add(c[0],c[1],c[2]),f=new S(f[0],f[1],f[2]),c=new S(c[0],c[1],c[2]),h=zc(new S(h[0],h[1],h[2]).la(f),c.la(f)),h.normalize(),o.add(h.x,h.y,h.b),o.add(h.x,h.y,h.b),o.add(h.x,h.y,h.b)}h=n+1}H.qa(this.c+".parse"),i=new Rc,i.Y=e,i.q=t,this.dispatchEvent(i)},D("X.parserOBJ",nf),D("X.parserOBJ.prototype.parse",nf.prototype.parse),F(of,Q),of.prototype.load=function(t,e){if((!t||!e)&&m(Error("No container or object to load.")),!uc(this.ic.J,t.sa)||this.ic.get(t.sa)){this.ic.set(t.sa,s);var i=qf(t)[0];if(t.Ib!=r)this.parse(r,t,e);else{var a=new XMLHttpRequest;O(a,"abort",this.Df.bind(this,a,t,e)),O(a,"error",this.Df.bind(this,a,t,e)),O(a,"load",this.parse.bind(this,a,t,e)),a.open("GET",i,q),a.responseType="arraybuffer",a.send(r)}}},of.prototype.parse=function(t,e,i){pf(this,1),setTimeout(function(){var a=qf(e),n=a[3],a=new a[2];Sb(a,cd,this.complete.bind(this));var s=e.Ib;s==r&&(s=t.response),a.parse(e,i,s,n)}.bind(this),100)},of.prototype.complete=function(t){pf(this,1),setTimeout(function(){var e=t.q,i=t.Y;e.o.g=s,e.g=q,i.n(),this.ic.set(e.sa,q)}.bind(this),100)},of.prototype.Df=function(t,e,i){m(Error("Loading failed: ",e,i))};var rf={OBJ:[nf,r],STL:[ve,r],VTK:[xe,r],TRK:[hf,r],FSM:[ze,r],INFLATED:[ze,r],SMOOTHWM:[ze,r],SPHERE:[ze,r],PIAL:[ze,r],ORIG:[ze,r],NRRD:[lf,r],NII:[mf,r],GZ:[mf,r],DCM:[we,r],DICOM:[we,r],"":[we,r],CRV:[gf,r],LABEL:[xd,r],MGH:[ff,s],MGZ:[ff,q],TXT:[kf,r],LUT:[kf,r],PNG:[jf,"png"],JPG:[jf,"jpeg"],JPEG:[jf,"jpeg"],GIF:[jf,"gif"]};F(sf,Q),sf.prototype.observe=function(t){!(t!=r&&t instanceof le||!m(Error("Could not observe the interactor."))),O(t,Yc,this.Th.bind(this)),O(t,Xc,this.Qh.bind(this)),O(t,Zc,this.ei.bind(this))},sf.prototype.Th=function(t){t instanceof id||m(Error("Received no valid rotate event.")),this.rotate(t.K)},sf.prototype.ei=function(t){t instanceof jd||m(Error("Received no valid zoom event.")),t.Qa?this.ng(t.Ha):this.og(t.Ha)},sf.prototype.Qh=function(t){t instanceof hd||m(Error("Received no valid pan event.")),this.eg(t.K)},sf.prototype.__defineGetter__("view",u("p")),sf.prototype.__defineSetter__("view",function(t){!(t!=r&&t instanceof Float32Array||!m(Error("Invalid view matrix."))),this.p=t}),sf.prototype.__defineGetter__("position",function(){return[this.ua.x,this.ua.y,this.ua.b]}),sf.prototype.__defineSetter__("position",function(t){(t==r||!ha(t)||3!=t.length)&&m(Error("Invalid position.")),this.ua=new H.f(t[0],t[1],t[2]),this.reset()}),sf.prototype.__defineGetter__("focus",function(){return[this.gc.x,this.gc.y,this.gc.b]}),sf.prototype.__defineSetter__("focus",function(t){(t==r||!ha(t)||3!=t.length)&&m(Error("Invalid focus")),this.gc=new H.f(t[0],t[1],t[2]),this.reset()}),sf.prototype.__defineGetter__("up",function(){return[this.I.x,this.I.y,this.I.b]}),sf.prototype.__defineSetter__("up",function(t){(t==r||!ha(t)||3!=t.length)&&m(Error("Invalid up vector.")),this.I=new H.f(t[0],t[1],t[2]),this.reset()}),w=sf.prototype,w.reset=function(){this.p=this.Ed(this.ua,this.gc)},w.rotate=function(t){return ha(t)&&2==t.length?t=new H.f(t[0],t[1],0):t instanceof H.f||m(Error("Invalid distance vector for rotate operation.")),t},w.eg=function(t){ha(t)&&2==t.length?t=new H.f(t[0],t[1],0):t instanceof H.f||m(Error("Invalid distance vector for pan operation.")),this.p[12]-=t.x,this.p[13]+=t.y},w.ng=function(t){var e=20;t!=r&&!t&&(e=1),this.p[14]+=e},w.og=function(t){var e=30;t!=r&&!t&&(e=1),this.p[14]-=e},w.Ed=function(t,e){return!(t instanceof H.f&&e instanceof H.f||!m(Error("3D vectors required for calculating the view."))),H.d.Oc()},D("X.camera",sf),D("X.camera.prototype.pan",sf.prototype.eg),D("X.camera.prototype.rotate",sf.prototype.rotate),D("X.camera.prototype.zoomIn",sf.prototype.ng),D("X.camera.prototype.zoomOut",sf.prototype.og),F(tf,lc),F(uf,W),uf.prototype.__defineGetter__("start",u("je")),uf.prototype.__defineSetter__("start",function(t){(t==r||!ha(t)||3!=t.length)&&m(Error("Invalid start")),this.je=t}),uf.prototype.__defineGetter__("end",u("Rd")),uf.prototype.__defineSetter__("end",function(t){(t==r||!ha(t)||3!=t.length)&&m(Error("Invalid end")),this.Rd=t}),uf.prototype.__defineGetter__("radius",u("Rb")),uf.prototype.__defineSetter__("radius",function(t){y(t)||m(Error("Invalid radius.")),this.Rb=t}),uf.prototype.n=function(){Vc(this,new tf({start:this.je,end:this.Rd,Ta:this.Rb,Re:this.Ub})),uf.s.n.call(this)},D("X.cylinder",uf),D("X.cylinder.prototype.modified",uf.prototype.n),F(vf,lc),F(wf,W),wf.prototype.__defineGetter__("center",u("k")),wf.prototype.__defineSetter__("center",function(t){(t==r||!ha(t)||3!=t.length)&&m(Error("Invalid center")),this.k=t}),wf.prototype.__defineGetter__("radius",u("Rb")),wf.prototype.__defineSetter__("radius",function(t){y(t)||m(Error("Invalid radius.")),this.Rb=t}),wf.prototype.n=function(){Vc(this,new vf({se:this.k,Ta:this.Rb,Re:this.Ub,Hi:this.Bg})),wf.s.n.call(this)},D("X.sphere",wf),D("X.sphere.prototype.modified",wf.prototype.n),F(ue,R),ue.prototype.n=function(){var t=new Rc;t.Y=this,this.dispatchEvent(t),this.ab.n()},D("X.labelmap",ue),F(xf,lc),F(yf,W),yf.prototype.__defineGetter__("center",u("k")),yf.prototype.__defineSetter__("center",function(t){(t==r||!ha(t)||3!=t.length)&&m(Error("Invalid center")),this.k=t}),yf.prototype.__defineGetter__("lengthX",u("Wd")),yf.prototype.__defineSetter__("lengthX",function(t){y(t)||m(Error("Invalid lengthX.")),this.Wd=t}),yf.prototype.__defineGetter__("lengthY",u("Xd")),yf.prototype.__defineSetter__("lengthY",function(t){y(t)||m(Error("Invalid lengthY.")),this.Xd=t}),yf.prototype.__defineGetter__("lengthZ",u("Yd")),yf.prototype.__defineSetter__("lengthZ",function(t){y(t)||m(Error("Invalid lengthZ.")),this.Yd=t}),yf.prototype.n=function(){Vc(this,new xf({se:this.k,Ta:[this.Wd/2,this.Xd/2,this.Yd/2]})),yf.s.n.call(this)},D("X.cube",yf),D("X.cube.prototype.modified",yf.prototype.n),F(ne,le),ne.prototype.Qc=function(t){ne.s.Qc.call(this,t);var e=new jd;t.nc==r&&(t.nc=0),e.Qa=0>t.nc,e.Ha=q,this.dispatchEvent(e)},F(zf,Q),zf.prototype.add=function(t){return this.v.push(t),q},zf.prototype.clear=function(){this.v.length=0},zf.prototype.sort=function(){Af(this,0,this.v.length)},F(Bf,sf),Bf.prototype.rotate=function(t){t=Bf.s.rotate.call(this,t);var e=new gd;0<t.x?e.le--:0>t.x&&e.le++,0<t.y?e.Zd++:0>t.y&&e.Zd--,this.dispatchEvent(e)},F(Cf,sf),Cf.prototype.rotate=function(t){t=Cf.s.rotate.call(this,t);var e=-t.x/5*Math.PI/180;t=-t.y/5*Math.PI/180;var i=new H.f(this.p[1],this.p[5],this.p[9]),r=new H.f(this.p[0],this.p[4],this.p[8]);i.normalize(),r.normalize(),H.d.rotate(this.p,e,i.x,i.y,i.b),H.d.rotate(this.p,t,r.x,r.y,r.b)},Cf.prototype.Ed=function(t,e){var i=Cf.s.Ed.call(this,t,e);return H.d.Tf(i,t,e,this.I),i},D("X.camera3D",Cf),F(Df,sb);var Ef=[];Df.prototype.Ne=function(){Eb(this.w,Wb),this.w.length=0},Df.prototype.handleEvent=function(){m(Error("EventHandler.handleEvent not implemented"))},Gf.Ff=function(){return Gf.Nf?Gf.Nf:Gf.Nf=new Gf},Gf.prototype.Ch=0,Gf.Ff(),F(Hf,bc),Hf.prototype.nh=Gf.Ff();var If=r;w=Hf.prototype,w.Mf=r,w.pc=s,w.r=r,w.si=r,w.Rc=r,w.Lc=r,w.te=r,w.l=u("r"),w.Pe=function(t){this.Rc&&this.Rc!=t&&m(Error("Method not supported")),Hf.s.Pe.call(this,t)},w.vd=u("Bb"),w.lc=function(){this.r=this.Bb.createElement("div")},w.cc=function(t){this.Eb(t)},w.Eb=function(t,e){this.pc&&m(Error("Component already rendered")),this.r||this.lc(),t?t.insertBefore(this.r,e||r):this.Bb.N.body.appendChild(this.r),(!this.Rc||this.Rc.pc)&&this.rd()},w.rd=function(){function t(t){!t.pc&&t.l()&&t.rd()}this.pc=q,this.Lc&&Eb(this.Lc,t,n)},w.sd=function(){function t(t){t.pc&&t.sd()}this.Lc&&Eb(this.Lc,t,n),this.gh&&this.gh.Ne(),this.pc=s},w.removeChild=function(t,e){if(t){var i,a=la(t)?t:t.Mf||(t.Mf=":"+(t.nh.Ch++).toString(36));this.te&&a?(i=this.te,i=(a in i?i[a]:n)||r):i=r,t=i,a&&t&&(i=this.te,a in i&&delete i[a],Hb(this.Lc,t),e&&(t.sd(),t.r&&Nd(t.r)),a=t,a==r&&m(Error("Unable to set parent component")),a.Rc=r,Hf.s.Pe.call(a,r))}return t||m(Error("Child is not in parent component")),t},F(Jf,bc),w=Jf.prototype,w.Xe=0,w.Pc=0,w.De=100,w.Cf=0,w.Ue=1,w.uh=s,w.Bh=s,w.Md=function(t){t=Kf(this,t),this.Xe!=t&&(this.Xe=t+this.Cf>this.De?this.De-this.Cf:t<this.Pc?this.Pc:t,!this.uh&&!this.Bh&&this.dispatchEvent("change"))},w.yd=function(){return Kf(this,this.Xe)},w.xd=function(){return Kf(this,this.Pc)},w.wd=function(){return Kf(this,this.De)},F(Lf,Hf);var Mf={vertical:"progress-bar-vertical",horizontal:"progress-bar-horizontal"};w=Lf.prototype,w.lc=function(){this.Ua=this.vd().lc("div","progress-bar-thumb");var t=Mf[this.dg];this.r=this.vd().lc("div",t,this.Ua),Of(this),t=this.xd(),this.l().setAttribute("aria-valuemin",t),t=this.wd(),this.l().setAttribute("aria-valuemax",t)},w.rd=function(){Lf.s.rd.call(this),L&&7>ib&&O(this.l(),"resize",this.Pd,s,this),this.Pd();var t=this.l();t.setAttribute("role","progressbar"),t.setAttribute("aria-live","polite")},w.sd=function(){Lf.s.sd.call(this),L&&7>ib&&Vb(this.l(),"resize",this.Pd,s,this)},w.yd=function(){return this.Tc.yd()},w.Md=function(t){this.Tc.Md(t),this.l()&&Of(this)},w.xd=function(){return this.Tc.xd()},w.wd=function(){return this.Tc.wd()},w.dg="horizontal",w.hh=function(){this.Pd(),this.dispatchEvent("change")},w.Pd=function(){if(this.Ua){var t=this.xd(),e=this.wd(),t=(this.yd()-t)/(e-t),e=Math.round(100*t);"vertical"==this.dg?L&&7>ib?(this.Ua.style.top=0,this.Ua.style.height="100%",e=this.Ua.offsetHeight,t=Math.round(t*e),this.Ua.style.top=e-t+"px",this.Ua.style.height=t+"px"):(this.Ua.style.top=100-e+"%",this.Ua.style.height=e+"%"):this.Ua.style.width=e+"%"}},F(Pf,Lf),Pf.prototype.ze=function(){("static"==this.ma.style.position||""==this.ma.style.position)&&(this.mf=this.ma.style.position,this.ma.style.position="relative");var t=document.getElementsByTagName("head")[0],e=Ld("style");e.type="text/css",e.media="screen";var i=document.createTextNode(String(this.Hb[0])),r=document.createTextNode(String(this.Hb[1])),a=document.createTextNode(String(this.Hb[2]));t.appendChild(e),e.appendChild(i),e.appendChild(r),e.appendChild(a),this.$a=e,this.cc(this.ma),t=this.l(),t.style.position="absolute",t.style.top=(this.ma.clientHeight-5)/2+"px",t.style.left=(this.ma.clientWidth-100)/2+"px",t.classList.add("xtk-progress-bar")},Pf.prototype.Ad=function(){this.$a&&Nd(this.$a),this.l()&&Nd(this.l()),this.Xc&&Nd(this.Xc.l()),this.Xc=this.$a=r,this.ma.style.position=this.mf},F(Sf,Q),w=Sf.prototype,w.Rh=function(t){this.na&&this.na.Md(100*t.sf)},w.Hh=function(t){t!=r&&t instanceof Rc&&t.Y&&this.Va(t.Y)},w.Je=function(t){!(t!=r&&t instanceof ld||!m(Error("Invalid hover event.")))},w.Sh=function(){var t=Jd(this.q);this.M=t.clientWidth,this.G=t.clientHeight,t=Jd(this.ga),t.width=this.M,t.height=this.G,"renderer3D"==this.c&&(this.a.viewport(0,0,this.M,this.G),this.t.nf=H.d.Ce(H.d.Oc(),this.t.cf,this.ga.width/this.ga.height,1,1e4)),this.qc()},w.Ke=function(t){!(t!=r&&t instanceof kd||!m(Error("Invalid scroll event.")))},Sf.prototype.__defineGetter__("config",u("F")),Sf.prototype.__defineGetter__("interactor",u("Kb")),Sf.prototype.__defineGetter__("camera",u("t")),Sf.prototype.__defineGetter__("loadingCompleted",u("ad")),Sf.prototype.__defineGetter__("container",u("q")),Sf.prototype.__defineSetter__("container",function(t){t==r&&m(Error("An ID to a valid container (<div>..) is required."));var e=t;la(e)&&(e=Jd(t)),na(e)&&1==e.nodeType||m(Error("Could not find the given container.")),this.q=e}),w=Sf.prototype,w.qc=function(){this.t.reset()},w.ea=function(t){var e=Ld("canvas");this.q.appendChild(e),this.M=this.q.clientWidth,this.G=this.q.clientHeight,e.width=this.M,e.height=this.G;try{var i=e.getContext(t);i||m(Error())}catch(r){var a="Sorry, "+t+' context is <strong>not supported</strong> on this machine! See <a href="http://crash.goXTK.com" target="_blank">http://crash.goXTK.com</a> for requirements..';this.q.innerHTML='<h3 style="color:red;font-family:sans-serif;">Oooops..</h3><p style="color:red;font-family:sans-serif;">'+a+"</p>",m(Error(a))}this.C=new of,O(this.C,dd,this.Rh.bind(this)),this.ga=e,this.a=i,e=new ne(this.ga),"2d"==t&&(e=new pe(this.ga)),e.ea(),O(e,ad,this.qc.bind(this)),O(e,ed,this.Je.bind(this)),O(e,$c,this.Ke.bind(this)),this.Kb=e,e=new Cf(this.M,this.G),"2d"==t&&(e=new Bf(this.M,this.G)),e.observe(this.Kb),this.t=e,O(window,"resize",this.Sh,s,this)},w.add=function(t){(t instanceof yf||t instanceof wf||t instanceof uf)&&t.n(),this.Ra.push(t),this.Va(t)},w.Va=function(t){(!this.ga||!this.a)&&m(Error("The renderer was not initialized properly.")),t==r&&(window.console.log(t),m(Error("Illegal object.")));var e;e=oa(t);var i=Ob[e];if(i){var a=ga(cd),o=ga(n);a&&o?(i=Nb[cd],e=!!i&&!!i[n]&&e in i[n]):e=a||o?Gb(i,function(t){return a&&t.type==cd||o&&t.capture==n}):q}else e=s;e||O(t,cd,this.Hh.bind(this))},w.get=function(t){t==r&&m(Error("Invalid object id."));for(var e=this.Ya.v,i=e.length,a=0,a=0;i>a;a++)if(e[a].sa==t)return e[a];return r},w.cc=function(){if((!this.ga||!this.a)&&m(Error("The renderer was not initialized properly.")),this.pf==r){if(tc(this.C.ic)){if(this.F.PROGRESSBAR_ENABLED&&!this.na&&(this.na=new Pf(this.q,3)),this.de=this.ad=s,this.pf=Rf(function(){this.pf=r,this.cc()}.bind(this),100),!this.F.INTERMEDIATE_RENDERING)return}else if(!this.ad&&!this.de&&(this.de=q,eval("this.onShowtime()"),this.ad=q),this.na)return void(this.F.PROGRESSBAR_ENABLED&&this.na&&!this.$e&&(Qf(this.na),this.$e=Rf(function(){this.$e=r,this.na&&(this.na.Ad(),this.na=r),this.cc()
}.bind(this),700)));this.Ze=window.requestAnimationFrame(this.cc.bind(this),this.ga),eval("this.onRender()"),this.Eb(s,q)}},w.cg=aa(),w.ag=aa(),w.Eb=aa(),w.pd=function(){window.cancelAnimationFrame(this.Ze),this.C&&(delete this.C,this.C=r),this.na&&(this.na.Ad(),delete this.na,this.na=r),this.Ya.clear(),delete this.Ya,this.Ra.length=0,delete this.Ra,delete this.C,this.C=r,delete this.t,this.t=r,delete this.Kb,this.Kb=r,delete this.a,this.a=r,Nd(this.ga),delete this.ga,this.ga=r},F(Tf,Q);var Uf={rj:"vertexPosition",qj:"vertexNormal",pj:"vertexColor",tj:"vertexTexturePos",sj:"vertexScalar"},Vf={uj:"view",Zi:"perspective",Ri:"center",Yi:"objectTransform",lj:"useObjectColor",Wi:"objectColor",nj:"useScalars",hj:"scalarsReplaceMode",ej:"scalarsMin",bj:"scalarsMax",fj:"scalarsMinColor",cj:"scalarsMaxColor",gj:"scalarsMinThreshold",dj:"scalarsMaxThreshold",aj:"scalarsInterpolation",$i:"pointSize",Xi:"objectOpacity",Vi:"normal",mj:"usePicking",oj:"useTexture",kj:"useLabelMapTexture",Ti:"labelmapOpacity",ij:"textureSampler",jj:"textureSampler2",vj:"volumeLowerThreshold",Bj:"volumeUpperThreshold",yj:"volumeScalarMin",wj:"volumeScalarMax",zj:"volumeScalarMinColor",xj:"volumeScalarMaxColor",Dj:"volumeWindowLow",Cj:"volumeWindowHigh",Aj:"volumeTexture"};F(Wf,Q),Zf.prototype.Oa=aa(),F($f,Zf),$f.prototype.Oa=function(t,e,i){Xf(this.element,this.zf,t,e,n,i,this.fi)},F(ag,bc),w=ag.prototype,w.r=r,w.Gg=q,w.tf=r,w.oa=s,w.yi=s,w.Be=-1,w.Rf=-1,w.mh=s,w.Vg=q,w.rc="toggle_display",w.l=u("r"),w.Oe=function(t){this.oa&&m(Error("Can not change this state of the popup while showing.")),this.r=t},w.Oa=ea,w.yf=function(t){"toggle_display"==this.rc?this.yi?Rf(this.Jf,0,this):this.Jf():"move_offscreen"==this.rc&&(this.r.style.top="-10000px"),this.Ie(t)},w.Jf=function(){this.r.style.visibility="hidden",ce(this.r,s)},w.He=function(){return this.dispatchEvent("beforeshow")},w.bg=function(){this.Be=wa(),this.Rf=-1,this.dispatchEvent("show")},w.Ie=function(t){this.dispatchEvent({type:"hide",target:t})},w.Zf=function(t){t=t.target,!(Pd(this.r,t)||this.tf&&!Pd(this.tf,t)||150>wa()-this.Be||!cg(this,t))},w.Fh=function(t){27==t.keyCode&&cg(this,t.target)&&(t.preventDefault(),t.stopPropagation())},w.Yf=function(t){if(this.Vg){var e=Id(this.r);if(L||ab){if(t=e.activeElement,!t||Pd(this.r,t)||"BODY"==t.tagName)return}else if(t.target!=e)return;150>wa()-this.Be||cg(this)}},F(dg,Zf),dg.prototype.Oa=function(t,e,i,a){Xf(Ud(t),0,t,e,this.ue,i,r,a)},F(eg,ag),eg.prototype.Oa=function(){if(this.Fd){var t=!this.oa&&"move_offscreen"!=this.rc,e=this.l();t&&(e.style.visibility="hidden",ce(e,q)),this.Fd.Oa(e,this.ii,this.Oj),t&&ce(e,s)}},w=fg.prototype,w.ud=function(){return this.J.ud()},w.add=function(t){this.J.set(gg(t),t)},w.me=function(t){t=qc(t);for(var e=t.length,i=0;e>i;i++)this.add(t[i])},w.Ne=function(t){t=qc(t);for(var e=t.length,i=0;e>i;i++)this.remove(t[i])},w.remove=function(t){return this.J.remove(gg(t))},w.clear=function(){this.J.clear()},w.contains=function(t){return t=gg(t),uc(this.J.J,t)},w.Of=function(t){var e=new fg;t=qc(t);for(var i=0;i<t.length;i++){var r=t[i];this.contains(r)&&e.add(r)}return e},w.bb=function(){return this.J.bb()},w.h=function(){return new fg(this)},F(hg,eg);var jg=[];w=hg.prototype,w.wa=r,w.className="goog-tooltip",w.jg=500,w.lh=0,w.vd=u("Bb"),w.Oe=function(t){var e=this.l();e&&Nd(e),hg.s.Oe.call(this,t),t&&(e=this.Bb.N.body,e.insertBefore(t,e.lastChild))},w.He=function(){if(!ag.prototype.He.call(this))return s;if(this.anchor)for(var t,e=0;t=jg[e];e++)Pd(t.l(),this.anchor)||bg(t,s);return 0<=Db(jg,this)||jg.push(this),t=this.l(),t.className=this.className,kg(this),O(t,"mouseover",this.If,s,this),O(t,"mouseout",this.Hf,s,this),lg(this),q},w.Ie=function(){Hb(jg,this);for(var t,e=this.l(),i=0;t=jg[i];i++)t.anchor&&Pd(e,t.anchor)&&bg(t,s);this.fg&&mg(this.fg),Vb(e,"mouseover",this.If,s,this),Vb(e,"mouseout",this.Hf,s,this),this.anchor=n,0==(this.gb?this.oa?4:1:this.oc?3:this.oa?2:0)&&(this.Kd=s),ag.prototype.Ie.call(this)},w.Wf=function(t,e){this.anchor==t&&this.qd.contains(this.anchor)&&(this.Kd||!this.Rj?(bg(this,s),this.oa||(this.anchor=t,this.Fd=e||ng(this,0)||n,this.oa&&this.Oa(),bg(this,q))):this.anchor=n),this.gb=n},w.Ah=function(t){this.oc=n,!(t!=this.anchor||this.wa!=r&&(this.wa==this.l()||this.qd.contains(this.wa))||this.vf&&this.vf.wa||!bg(this,s))},w.kh=function(t){var e=qg(this,t.target);this.wa=e,kg(this),e!=this.anchor&&(this.anchor=e,this.gb||(this.gb=Rf(ua(this.Wf,this,e,n),this.jg)),rg(this),og(this,t))},w.jh=function(t){og(this,t),this.Kd=q},w.ih=function(t){if(this.wa=t=qg(this,t.target),this.Kd=q,this.anchor!=t){this.anchor=t;var e=ng(this,1);kg(this),this.gb||(this.gb=Rf(ua(this.Wf,this,t,e),this.jg)),rg(this)}},w.Gf=function(t){var e=qg(this,t.target),i=qg(this,t.relatedTarget);e!=i&&(e==this.wa&&(this.wa=r),lg(this),this.Kd=s,!this.oa||t.relatedTarget&&Pd(this.l(),t.relatedTarget)?this.anchor=n:mg(this))},w.If=function(){var t=this.l();this.wa!=t&&(kg(this),this.wa=t)},w.Hf=function(t){var e=this.l();this.wa!=e||t.relatedTarget&&Pd(e,t.relatedTarget)||(this.wa=r,mg(this))},F(sg,dg),sg.prototype.Oa=function(t,e,i){e=Ud(t),e=Xd(e),i=i?new Ad(i.top+10,i.right,i.bottom,i.left+10):new Ad(10,0,0,10),496&Yf(this.ue,t,4,i,e,9)&&Yf(this.ue,t,4,i,e,5)},F(tg,$f),tg.prototype.Oa=function(t,e,i){var r=new yd(10,0);496&Xf(this.element,this.zf,t,e,r,i,9)&&Xf(this.element,2,t,1,r,i,5)},F(ug,hg),ug.prototype.ze=function(){("static"==this.ma.style.position||""==this.ma.style.position)&&(this.ma.style.position="relative");var t=document.getElementsByTagName("head")[0],e=Ld("style");e.type="text/css",e.media="screen";var i=document.createTextNode(String(this.Hb[0]));t.appendChild(e),e.appendChild(i),this.$a=e,this.Fd=new dg(this.md,this.nd)||n,this.oa&&this.Oa(),bg(this,q),ig(this,this.ma),this.l().classList.add("x-tooltip")},ug.prototype.Ad=function(){bg(this,s),this.$a&&Nd(this.$a),this.l()&&Nd(this.l()),this.$a=r},F(vg,Sf),vg.prototype.__defineGetter__("config",u("F")),w=vg.prototype,w.ri=function(){this.Ac=this.Dc=this.zc=this.Cc=this.yc=this.Bc=r,this.k=[0,0,0]},w.Je=function(t){vg.s.Je.call(this,t);var e=t.md;t=t.nd;var i=this.gg(e,t);(i=this.get(i))&&(i=i.fc)&&(new ug(this.q,this.q.offsetLeft+e+10,this.q.offsetTop+t+10,this.Kb).l().innerHTML=i)},w.ea=function(){vg.s.ea.call(this,"experimental-webgl");try{if(this.a.viewport(0,0,this.M,this.G),this.a.clearColor(0,0,0,0),this.a.enable(this.a.BLEND),this.a.blendEquation(this.a.FUNC_ADD),this.a.blendFunc(this.a.SRC_ALPHA,this.a.ONE_MINUS_SRC_ALPHA),this.a.enable(this.a.DEPTH_TEST),this.a.depthFunc(this.a.LEQUAL),this.a.clear(this.a.COLOR_BUFFER_BIT|this.a.DEPTH_BUFFER_BIT),this.F.PICKING_ENABLED){var t=this.a.createFramebuffer(),e=this.a.createRenderbuffer(),i=this.a.createTexture();this.a.bindTexture(this.a.TEXTURE_2D,i),this.a.texImage2D(this.a.TEXTURE_2D,0,this.a.RGB,this.M,this.G,0,this.a.RGB,this.a.UNSIGNED_BYTE,r),this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_WRAP_S,this.a.CLAMP_TO_EDGE),this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_WRAP_T,this.a.CLAMP_TO_EDGE),this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_MAG_FILTER,this.a.NEAREST),this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_MIN_FILTER,this.a.NEAREST),this.a.bindFramebuffer(this.a.FRAMEBUFFER,t),this.a.bindRenderbuffer(this.a.RENDERBUFFER,e),this.a.renderbufferStorage(this.a.RENDERBUFFER,this.a.DEPTH_COMPONENT16,this.M,this.G),this.a.bindRenderbuffer(this.a.RENDERBUFFER,r),this.a.framebufferTexture2D(this.a.FRAMEBUFFER,this.a.COLOR_ATTACHMENT0,this.a.TEXTURE_2D,i,0),this.a.framebufferRenderbuffer(this.a.FRAMEBUFFER,this.a.DEPTH_ATTACHMENT,this.a.RENDERBUFFER,e),this.a.bindFramebuffer(this.a.FRAMEBUFFER,r),this.of=t}}catch(a){m(Error("Exception while accessing GL Context!\n"+a))}t=new Tf,(this.ga==r||this.a==r||this.t==r)&&m(Error("Renderer was not initialized properly.")),!(t!=r&&t instanceof Tf||!m(Error("Could not add shaders."))),e=Object.keys(Vf),Object.keys(Uf).every(function(t){return t=Uf[t],-1!=this.kd.search(t)||-1!=this.Yc.search(t)}.bind(t))||m(Error("Could not find all attributes in the shader sources.")),e.every(function(t){return t=Vf[t],-1!=this.kd.search(t)||-1!=this.Yc.search(t)}.bind(t))||m(Error("Could not find all uniforms in the shader sources.")),e=this.a.createShader(this.a.FRAGMENT_SHADER),i=this.a.createShader(this.a.VERTEX_SHADER),this.a.shaderSource(e,t.Yc),this.a.shaderSource(i,t.kd),this.a.compileShader(e),this.a.compileShader(i),this.a.getShaderParameter(e,this.a.COMPILE_STATUS)||m(Error("Fragement Shader compilation failed!\n"+this.a.getShaderInfoLog(e))),this.a.getShaderParameter(i,this.a.COMPILE_STATUS)||m(Error("Vertex Shader compilation failed!\n"+this.a.getShaderInfoLog(i)));var n=this.a.createProgram();this.a.attachShader(n,i),this.a.attachShader(n,e),this.a.linkProgram(n),this.a.getProgramParameter(n,this.a.LINK_STATUS)||m(Error("Could not create shader program!\n"+this.a.getShaderInfoLog(e)+"\n"+this.a.getShaderInfoLog(i)+"\n"+this.a.getProgramInfoLog(n))),this.a.useProgram(n),this.fe=n,Object.keys(Uf).forEach(function(t){t=Uf[t],this.Qd.set(t,this.a.getAttribLocation(this.fe,t)),this.a.enableVertexAttribArray(this.Qd.get(t))}.bind(this)),Object.keys(Vf).forEach(function(t){t=Vf[t],this.Gc.set(t,this.a.getUniformLocation(this.fe,t))}.bind(this)),this.ge=t},w.Va=function(t){vg.s.Va.call(this,t);var e=s;this.get(t.sa)&&(e=q);var i=t.sa,a=t.i,n=t.j,o=t.W,h=t.z,c=t.o,f=t.Wb,l=t.$,d=t.m,u=t.u;if(d!=r&&d.o!=r&&d.o.g)this.Va(d);else if(d!=r&&d.g&&this.Va(d),l!=r&&l.o!=r&&l.o.g)this.C.load(l,t);else if(h!=r&&h.o!=r&&h.o.g)this.C.load(h,t);else{if(c!=r&&ha(c)){if(t.dc==r){for(e=0,i=c.length,e=0;i>e;e++)this.C.load(c[e],t);return}if(t.dc.Cd!=c.length||!t.g)return}else{if(c!=r&&c.g)return void this.C.load(t,t);if(u!=r&&u.o!=r&&u.o.g)return void this.C.load(u,t)}if(0<t.e.length)for(c=t.e,l=c.length,d=d=0;l>d;d++)this.Va(c[d]);if(a){for(c=0;this.bd;)c++,window.console.log("Possible thread lock avoided: "+c);this.bd=q,l=t instanceof qe&&t.ab instanceof ue,e&&h!=r&&h.g&&(c=this.gd.get(i),c!=r&&this.a.isBuffer(c.ha)&&this.a.deleteBuffer(c.ha)),c=r,h!=r&&(!e||h.g?(c=t.Vb,c==r&&m(Error("Can not add an object and texture without valid coordinate mapping! Set the textureCoordinateMap!")),d=s,h.va&&(d=q),this.a.pixelStorei(this.a.UNPACK_FLIP_Y_WEBGL,d),d=this.a.createTexture(),d.oh=h.jb,this.hd.set(h.sa,d),this.a.bindTexture(this.a.TEXTURE_2D,d),h.va?this.a.texImage2D(this.a.TEXTURE_2D,0,this.a.RGBA,h.xb,h.wb,0,this.a.RGBA,this.a.UNSIGNED_BYTE,h.va):this.a.texImage2D(this.a.TEXTURE_2D,0,this.a.RGBA,this.a.RGBA,this.a.UNSIGNED_BYTE,d.oh),this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_WRAP_S,this.a.CLAMP_TO_EDGE),this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_WRAP_T,this.a.CLAMP_TO_EDGE),l?(this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_MAG_FILTER,this.a.NEAREST),this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_MIN_FILTER,this.a.NEAREST)):(this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_MAG_FILTER,this.a.LINEAR),this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_MIN_FILTER,this.a.LINEAR)),this.a.bindTexture(this.a.TEXTURE_2D,r),d=this.a.createBuffer(),this.a.bindBuffer(this.a.ARRAY_BUFFER,d),this.a.bufferData(this.a.ARRAY_BUFFER,new Float32Array(c),this.a.STATIC_DRAW),c=new Wf(d,c.length,2),h.g=s):c=this.gd.get(i)),pf(this.C,.1),l?(this.bd=s,H.qa(this.c+".update"),pf(this.C,.9)):((!e||a.g||f.g)&&(l=f.ia,h=H.d.Na(l,a.Ob,a.Pb,a.Qb),l=H.d.Na(l,a.Lb,a.Mb,a.Nb),(this.Bc===r||h.x<this.Bc)&&(this.Bc=h.x),(this.yc===r||l.x>this.yc)&&(this.yc=l.x),(this.Cc===r||h.y<this.Cc)&&(this.Cc=h.y),(this.zc===r||l.y>this.zc)&&(this.zc=l.y),(this.Dc===r||h.b<this.Dc)&&(this.Dc=h.b),(this.Ac===r||l.b>this.Ac)&&(this.Ac=l.b),this.k=[(this.Bc+this.yc)/2,(this.Cc+this.zc)/2,(this.Dc+this.Ac)/2],f.g=s),e&&a.g&&(f=this.Jc.get(i),f!=r&&this.a.isBuffer(f.ha)&&this.a.deleteBuffer(f.ha)),f=r,!e||a.g?(f=this.a.createBuffer(),a.fb(),this.a.bindBuffer(this.a.ARRAY_BUFFER,f),this.a.bufferData(this.a.ARRAY_BUFFER,a.L,this.a.STATIC_DRAW),f=new Wf(f,a.count,3),a.g=s):f=this.Jc.get(i),pf(this.C,.3),e&&n.g&&(h=this.Jc.get(i),h!=r&&this.a.isBuffer(h.ha)&&this.a.deleteBuffer(h.ha)),h=r,!e||n.g?(h=this.a.createBuffer(),n.fb(),this.a.bindBuffer(this.a.ARRAY_BUFFER,h),this.a.bufferData(this.a.ARRAY_BUFFER,n.L,this.a.STATIC_DRAW),h=new Wf(h,n.count,3),n.g=s):h=this.be.get(i),pf(this.C,.3),e&&o&&o.g&&(n=this.Wc.get(i),n!=r&&this.a.isBuffer(n.ha)&&this.a.deleteBuffer(n.ha)),n=r,o&&(!e||o.g?(o.length!=a.length&&m(Error("Mismatch between points and point colors.")),n=this.a.createBuffer(),o.fb(),this.a.bindBuffer(this.a.ARRAY_BUFFER,n),this.a.bufferData(this.a.ARRAY_BUFFER,o.L,this.a.STATIC_DRAW),n=new Wf(n,o.count,3),o.g=s):n=this.Wc.get(i)),pf(this.C,.2),e&&u&&u.g&&(o=this.fd.get(i),o!=r&&this.a.isBuffer(o.ha)&&this.a.deleteBuffer(o.ha)),o=r,u&&(o=u.sc,!e||u.g?(o.length!=a.length&&m(Error("Mismatch between points and scalars.")),a=this.a.createBuffer(),this.a.bindBuffer(this.a.ARRAY_BUFFER,a),this.a.bufferData(this.a.ARRAY_BUFFER,o,this.a.STATIC_DRAW),o=new Wf(a,o.length,3),u.g=s):o=this.fd.get(i)),pf(this.C,.1),e||this.Ya.add(t),this.Jc.set(i,f),this.be.set(i,h),this.Wc.set(i,n),this.gd.set(i,c),this.fd.set(i,o),this.bd=t.g=s)}else t.g=s}},w.gg=function(t,e){if(this.F.PICKING_ENABLED){this.Eb(q,s);var i=new Uint8Array(4);return this.a.readPixels(t,this.G-e,1,1,this.a.RGBA,this.a.UNSIGNED_BYTE,i),i[0]+255*i[1]+65025*i[2]}return-1},w.Eb=function(t,e){vg.s.Eb.call(this,t,e);var i=this.Ya.v,a=i.length;if(0!=a){t?this.a.bindFramebuffer(this.a.FRAMEBUFFER,this.of):this.a.bindFramebuffer(this.a.FRAMEBUFFER,r),this.a.viewport(0,0,this.M,this.G),this.a.clear(this.a.COLOR_BUFFER_BIT|this.a.DEPTH_BUFFER_BIT);var n=this.t.nf,o=this.t.p;for(this.a.uniformMatrix4fv(this.Gc.get("perspective"),s,n),this.a.uniformMatrix4fv(this.Gc.get("view"),s,o),n=this.k,this.a.uniform3f(this.Gc.get("center"),parseFloat(n[0]),parseFloat(n[1]),parseFloat(n[2])),o=this.Ra.length,n=0;o>n;++n){var h=this.Ra[n];if(h instanceof R){var c=H.d.Na(this.t.p,1,0,0),f=H.f.Ab(this.t.ua,c),c=H.d.Na(this.t.p,-1,0,0),l=H.f.Ab(this.t.ua,c),c=H.d.Na(this.t.p,0,1,0),d=H.f.Ab(this.t.ua,c),c=H.d.Na(this.t.p,0,-1,0),u=H.f.Ab(this.t.ua,c),c=H.d.Na(this.t.p,0,0,1),p=H.f.Ab(this.t.ua,c),c=H.d.Na(this.t.p,0,0,-1),c=H.f.Ab(this.t.ua,c),b=Math.max(f,d,p,l,u,c);b==f||b==l?re(h,0):b==d||b==u?re(h,1):(b==p||b==c)&&re(h,2)}}if(this.F.ORDERING_ENABLED){f=s,o=this.Ra,h=o.length-1;do if(n=o[h],n instanceof R&&n.Ka){for(l=n.zb,f=n.Q.e,1==l?f=n.R.e:2==l&&(f=n.Za.e),l=f.length,d=f[0],d.K=wg(this,d),d.Z=n.Z,u=f[l-1],u.K=wg(this,u),u.Z=n.Z,u=Math.round(1e3*((u.K-d.K)/l))/1e3,p=p=1;l-1>p;p++)c=Math.round(1e3*(d.K+p*u))/1e3,f[p].K=c,f[p].Z=n.Z;f=q}while(h--);o=this.Ya.v,h=o.length-1;do n=o[h],n.Ja&&!(1==n.Z||n instanceof qe)&&(n.K=wg(this,n),f=q);while(h--);f&&this.Ya.sort()}if(o=!t&&e!=r&&e&&this.F.STATISTICS_ENABLED)var g=0,y=0,w=0,m=0;var n=this.Qd,h=n.get("vertexPosition"),f=n.get("vertexNormal"),l=n.get("vertexColor"),d=n.get("vertexTexturePos"),u=n.get("vertexScalar"),n=this.Gc,p=n.get("usePicking"),c=n.get("useObjectColor"),b=n.get("objectColor"),v=n.get("useScalars"),_=n.get("scalarsReplaceMode"),E=n.get("scalarsMin"),x=n.get("scalarsMax"),T=n.get("scalarsMinColor"),S=n.get("scalarsMaxColor"),D=n.get("scalarsInterpolation"),A=n.get("scalarsMinThreshold"),F=n.get("scalarsMaxThreshold"),M=n.get("objectOpacity"),I=n.get("labelmapOpacity"),C=n.get("useTexture"),N=n.get("useLabelMapTexture"),L=n.get("textureSampler"),X=n.get("textureSampler2"),Y=n.get("volumeLowerThreshold"),U=n.get("volumeUpperThreshold"),B=n.get("volumeScalarMin"),O=n.get("volumeScalarMax"),P=n.get("volumeWindowLow"),j=n.get("volumeWindowHigh"),k=n.get("volumeScalarMinColor"),G=n.get("volumeScalarMaxColor"),W=n.get("volumeTexture"),z=n.get("objectTransform"),K=n.get("pointSize"),n=a;do{var V=i[a-n];if(V){var Q=r;if(V instanceof qe&&V.ab&&(Q=V.ab),V.Ja&&(!Q||Q.Ja)){var Z=V.sa,J=V.xc,$=this.Jc.get(Z),te=this.be.get(Z),ee=this.Wc.get(Z),ie=this.fd.get(Z),ae=this.gd.get(Z);this.a.bindBuffer(this.a.ARRAY_BUFFER,$.ha),this.a.vertexAttribPointer(h,$.ob,this.a.FLOAT,s,0,0),this.a.bindBuffer(this.a.ARRAY_BUFFER,te.ha),this.a.vertexAttribPointer(f,te.ob,this.a.FLOAT,s,0,0),t?this.a.uniform1i(p,q):this.a.uniform1i(p,s),!ee||t||J?(te=1,J&&!t&&(te=0),this.a.uniform1i(c,te),te=V.Gb,t&&(te=[Math.floor(Z%65025%255)/255,Math.floor(Z%65025/255)/255,Math.floor(Z/65025)/255]),this.a.uniform3f(b,parseFloat(te[0]),parseFloat(te[1]),parseFloat(te[2])),this.a.vertexAttribPointer(l,$.ob,this.a.FLOAT,s,0,0)):(this.a.uniform1i(c,s),this.a.bindBuffer(this.a.ARRAY_BUFFER,ee.ha),this.a.vertexAttribPointer(l,ee.ob,this.a.FLOAT,s,0,0)),!ie||t||J?(this.a.uniform1i(v,s),this.a.vertexAttribPointer(u,$.ob,this.a.FLOAT,s,0,0)):(this.a.uniform1i(v,q),this.a.uniform1i(_,V.u.qf),Z=V.u.sb,J=V.u.qb,this.a.uniform3f(T,parseFloat(Z[0]),parseFloat(Z[1]),parseFloat(Z[2])),this.a.uniform3f(S,parseFloat(J[0]),parseFloat(J[1]),parseFloat(J[2])),this.a.uniform1f(A,parseFloat(V.u.P)),this.a.uniform1f(F,parseFloat(V.u.S)),this.a.uniform1f(E,parseFloat(V.u.Ia)),this.a.uniform1f(x,parseFloat(V.u.Fa)),this.a.uniform1i(D,parseInt(V.u.Td,10)),this.a.bindBuffer(this.a.ARRAY_BUFFER,ie.ha),this.a.vertexAttribPointer(u,ie.ob,this.a.FLOAT,s,0,0)),this.a.uniform1f(M,parseFloat(V.Z)),V.z&&ae&&!t?(this.a.uniform1i(C,q),this.a.activeTexture(this.a.TEXTURE0),this.a.bindTexture(this.a.TEXTURE_2D,this.hd.get(V.z.sa)),this.a.uniform1i(L,0),this.a.bindBuffer(this.a.ARRAY_BUFFER,ae.ha),this.a.vertexAttribPointer(d,ae.ob,this.a.FLOAT,s,0,0),this.a.uniform1i(W,s)):(this.a.uniform1i(C,s),this.a.vertexAttribPointer(d,$.ob,this.a.FLOAT,s,0,0)),Q&&(this.a.uniform1i(W,q),this.a.uniform1f(Y,Q.P),this.a.uniform1f(U,Q.S),this.a.uniform1f(B,Q.Ia),this.a.uniform1f(O,Q.Fa),Z=Q.sb,J=Q.qb,this.a.uniform3f(k,parseFloat(Z[0]),parseFloat(Z[1]),parseFloat(Z[2])),this.a.uniform3f(G,parseFloat(J[0]),parseFloat(J[1]),parseFloat(J[2])),this.a.uniform1f(P,Q.U),this.a.uniform1f(j,Q.T),ie=Q.m,this.a.uniform1i(N,s),Q.Ka?this.a.uniform1f(M,parseFloat(Q.Z)):ie&&ie.Ja&&(Q=V.m.sa,this.a.uniform1i(N,q),this.a.activeTexture(this.a.TEXTURE1),this.a.bindTexture(this.a.TEXTURE_2D,this.hd.get(Q)),this.a.uniform1i(X,1),this.a.uniform1f(I,ie.Z))),this.a.uniformMatrix4fv(z,s,V.Wb.ia),Q=1,"POINTS"==V.ja&&(Q=V.Ec),this.a.uniform1f(K,Q),Q=-1,V.ja==Oc?(Q=this.a.TRIANGLES,o&&(y+=$.nb/3)):"LINES"==V.ja?(this.a.lineWidth(V.jc),Q=this.a.LINES,o&&(w+=$.nb/2)):"POINTS"==V.ja?(Q=this.a.POINTS,o&&(m+=$.nb)):"TRIANGLE_STRIPS"==V.ja?(Q=this.a.TRIANGLE_STRIP,o&&(y+=$.nb/3)):"POLYGONS"==V.ja&&(Q=0==$.nb%3?this.a.TRIANGLES:this.a.TRIANGLE_FAN,o&&(y+=$.nb/3)),o&&(g+=$.nb),this.a.drawArrays(Q,0,$.nb)}}}while(--n);o&&(i="Objects: "+a+" | "+("Vertices: "+g+" | "),i+="Triangles: "+Math.round(y)+" | ",i+="Lines: "+w+" | ",i+="Points: "+m+" | ",i+="Textures: "+this.hd.ud(),window.console.log(i))}},w.pd=function(){this.ge=r,delete this.ge,this.a.clear(this.a.COLOR_BUFFER_BIT|this.a.DEPTH_BUFFER_BIT),vg.s.pd.call(this)},D("X.renderer3D",vg),D("X.renderer3D.prototype.init",vg.prototype.ea),D("X.renderer3D.prototype.add",vg.prototype.add),D("X.renderer3D.prototype.onShowtime",vg.prototype.cg),D("X.renderer3D.prototype.onRender",vg.prototype.ag),D("X.renderer3D.prototype.get",vg.prototype.get),D("X.renderer3D.prototype.render",vg.prototype.cc),D("X.renderer3D.prototype.destroy",vg.prototype.pd),D("X.renderer3D.prototype.resetBoundingBox",vg.prototype.ri),D("X.renderer3D.prototype.resetViewAndRender",vg.prototype.qc),D("X.renderer3D.prototype.pick",vg.prototype.gg),F(xg,Sf),xg.prototype.Uh=aa(),xg.prototype.ci=aa(),xg.prototype.Ke=function(a){xg.s.Ke.call(this,a);var b=this.Ra[0];if(b){var c=this.tb;b["index"+c]=a.I?b["index"+c]+1:b["index"+c]-1,eval("this.onScroll();")}},xg.prototype.di=function(a){var b=this.Ra[0];if(b){var c=b.T-b.U,d=c/2,e=parseInt(c+c/15*-a.le,10);a=parseInt(d+d/15*a.Zd,10),c==e&&e++,d==a&&a++,b.U-=parseInt(d-a,10),b.U-=parseInt(c-e,10),b.U=Math.max(b.U,b.Ia),b.T-=parseInt(d-a,10),b.T+=parseInt(c-e,10),b.T=Math.min(b.T,b.Fa),eval("this.onWindowLevel();")}},xg.prototype.__defineGetter__("orientation",u("tb")),xg.prototype.__defineSetter__("orientation",function(t){t=t.toUpperCase(),"X"!=t&&"Y"!=t&&"Z"!=t&&m(Error("Invalid orientation.")),this.tb=t}),w=xg.prototype,w.ea=function(){this.tb||m(Error("No 2D orientation set.")),xg.s.ea.call(this,"2d"),this.a.fillStyle="rgba(0,0,0,0)",this.a.fillRect(0,0,this.ga.width,this.ga.height),this.Sd=Ld("canvas"),this.Ud=Ld("canvas"),O(this.t,bd,this.di.bind(this))},w.rotate=function(){this.ed++},w.ti=function(){this.ed--},w.qc=function(){xg.s.qc.call(this),yg(this);var t=this.Ra[0];t&&(t.T=t.Fa,t.U=t.Ia)},w.Va=function(t){xg.s.Va.call(this,t);var e=s;if(this.get(t.sa)&&(e=q),t instanceof R){var i=t.o,a=t.m,n=t.$;if(a!=r&&a.o!=r&&a.o.g)this.Va(a);else if(n!=r&&n.o!=r&&n.o.g)this.C.load(n,t);else{if(i!=r&&ha(i)){if(t.dc==r){for(e=0,a=i.length,e=0;a>e;e++)this.C.load(i[e],t);return}if(t.dc.Cd!=i.length||e&&!t.g)return}else if(i!=r&&i.g)return void this.C.load(t,t);var a=i=0,n=t.aa,o=t.H;"X"==this.tb?(this.Ub=t.Q.e,i=n[1],a=n[2],this.Tb=o[1],this.Sb=o[2]):"Y"==this.tb?(this.Ub=t.R.e,i=n[0],a=n[2],this.Tb=o[0],this.Sb=o[2]):"Z"==this.tb&&(this.Ub=t.Za.e,i=n[0],a=n[1],this.Tb=o[0],this.Sb=o[1]),this.ie=i,this.he=a,n=this.Sd,n.width=i,n.height=a,o=this.Ud,o.width=i,o.height=a,this.df=n.getContext("2d"),this.ff=o.getContext("2d"),e||(this.Ya.add(t),yg(this))}}},w.Eb=function(t,e){if(xg.s.Eb.call(this,t,e),0!=this.Ya.v.length){var i=this.M,a=this.G,n=this.t.p;this.a.save(),this.a.clearRect(-i,-a,2*i,2*a),this.a.restore();var s=1*n[12],o=-1*n[13],h=Math.max(n[14],.6);this.a.setTransform(h,0,0,h,s,o);var n=this.Ra[0],c=n["index"+this.tb],f=this.Ub[parseInt(c,10)],l=f.z.va,f=f.m,d=r;f&&(d=f.va);var u=this.ie,p=this.he,b=this.df,g=this.ff,y=b.getImageData(0,0,u,p),w=g.getImageData(0,0,u,p),m=y.data,v=w.data,_=m.length,E=n.Fa,x=n.P,T=n.S,D=n.U/E,A=n.T/E;if(this.bf!=c||this.P!=x||this.S!=T||this.U!=D||this.T!=A){var F=0;do{var R=[0,0,0,0],M=[0,0,0,0],I=l[F]/255*E,C=l[F],C=(C/255-D)/(A-D),C=255*C;I>=x&&T>=I&&(R=new S(n.sb[0],n.sb[1],n.sb[2]),R=new S(n.qb[0],n.qb[1],n.qb[2]).scale(C).add(R.scale(255-C)),R=[Math.floor(R.x),Math.floor(R.y),Math.floor(R.b),255],f&&(M=[d[F],d[F+1],d[F+2],d[F+3]])),C=_-1-F,m[C-3]=R[0],m[C-2]=R[1],m[C-1]=R[2],m[C]=R[3],v[C-3]=M[0],v[C-2]=M[1],v[C-1]=M[2],v[C]=M[3],F+=4}while(_>F);b.putImageData(y,0,0),g.putImageData(w,0,0),this.bf=c,this.P=x,this.S=T,this.U=D,this.T=A}switch(this.a.globalAlpha=1,this.a.translate(i/2/h,a/2/h),this.a.rotate(.5*Math.PI*this.ed),this.ed%4){case 1:i=s,s=o,o=-i;break;case 2:s*=-1,o*=-1;break;case 3:i=s,s=-o,o=i}s=-u*this.Tb/2+s,o=-p*this.Sb/2+o,this.a.drawImage(this.Sd,s,o,u*this.Tb,p*this.Sb),f&&n.m.Ja&&(this.a.globalAlpha=n.m.Z,this.a.drawImage(this.Ud,s,o,u*this.Tb,p*this.Sb))}},D("X.renderer2D",xg),D("X.renderer2D.prototype.init",xg.prototype.ea),D("X.renderer2D.prototype.add",xg.prototype.add),D("X.renderer2D.prototype.onShowtime",xg.prototype.cg),D("X.renderer2D.prototype.onRender",xg.prototype.ag),D("X.renderer2D.prototype.onScroll",xg.prototype.Uh),D("X.renderer2D.prototype.onWindowLevel",xg.prototype.ci),D("X.renderer2D.prototype.get",xg.prototype.get),D("X.renderer2D.prototype.rotate",xg.prototype.rotate),D("X.renderer2D.prototype.rotateCounter",xg.prototype.ti),D("X.renderer2D.prototype.resetViewAndRender",xg.prototype.qc),D("X.renderer2D.prototype.render",xg.prototype.cc),D("X.renderer2D.prototype.destroy",xg.prototype.pd),F(zg,W),D("X.fibers",zg),F(Kg,W),D("X.mesh",Kg);